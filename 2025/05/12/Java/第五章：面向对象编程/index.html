<!DOCTYPE html>


<html lang="en">
  

    <head>
      <meta charset="utf-8" />
        
      <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1"
      />
      <title>第五章：面向对象编程 |  柳瀬しおこうの夢</title>
  <meta name="generator" content="hexo-theme-ayer">
      
      <link rel="shortcut icon" href="/favicon.ico" />
       
<link rel="stylesheet" href="/dist/main.css">

      
<link rel="stylesheet" href="/css/fonts/remixicon.css">

      
<link rel="stylesheet" href="/css/custom.css">
 
      <script src="https://cdn.staticfile.org/pace/1.2.4/pace.min.js"></script>
       
 

      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"
      />
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script>

      <!-- mermaid -->
      
      <script src="https://cdn.staticfile.org/mermaid/8.14.0/mermaid.min.js"></script>
      
      <style>
        .swal2-styled.swal2-confirm {
          font-size: 1.6rem;
        }
      </style>
    <link rel="alternate" href="/atom.xml" title="柳瀬しおこうの夢" type="application/atom+xml">
</head>
  </html>
</html>


<body>
  <div id="app">
    
      
    <main class="content on">
      <section class="outer">
  <article
  id="post-Java/第五章：面向对象编程"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h1 class="article-title sea-center" style="border-left:0" itemprop="name">
  第五章：面向对象编程
</h1>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2025/05/12/Java/%E7%AC%AC%E4%BA%94%E7%AB%A0%EF%BC%9A%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/" class="article-date">
  <time datetime="2025-05-12T03:22:33.000Z" itemprop="datePublished">2025-05-12</time>
</a>   
<div class="word_count">
    <span class="post-time">
        <span class="post-meta-item-icon">
            <i class="ri-quill-pen-line"></i>
            <span class="post-meta-item-text"> Word count:</span>
            <span class="post-count">18.7k</span>
        </span>
    </span>

    <span class="post-time">
        &nbsp; | &nbsp;
        <span class="post-meta-item-icon">
            <i class="ri-book-open-line"></i>
            <span class="post-meta-item-text"> Reading time≈</span>
            <span class="post-count">79 min</span>
        </span>
    </span>
</div>
 
    </div>
      
    <div class="tocbot"></div>




  
    <div class="article-entry" itemprop="articleBody">
       
  <p>好的，我们用 Java 语言来详细说明面向对象编程 (OOP) 的概念、原则和实践。</p>
<h2 id="1-类-Class-和对象-Object"><a href="#1-类-Class-和对象-Object" class="headerlink" title="1. 类 (Class) 和对象 (Object)"></a><strong>1. 类 (Class) 和对象 (Object)</strong></h2><p>在 Java 中，类是创建对象的蓝图。 它定义了对象的属性（数据）和方法（行为）。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个名为 Dog 的类</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dog</span> &#123;</span><br><span class="line">    <span class="comment">// 属性（成员变量）</span></span><br><span class="line">    String name;</span><br><span class="line">    String breed;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 方法（成员函数）</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">bark</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Woof!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">displayInfo</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Name: &quot;</span> + name);</span><br><span class="line">        System.out.println(<span class="string">&quot;Breed: &quot;</span> + breed);</span><br><span class="line">        System.out.println(<span class="string">&quot;Age: &quot;</span> + age);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建 Dog 类的对象</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 创建一个名为 myDog 的 Dog 对象</span></span><br><span class="line">        <span class="type">Dog</span> <span class="variable">myDog</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 设置 myDog 对象的属性</span></span><br><span class="line">        myDog.name = <span class="string">&quot;Buddy&quot;</span>;</span><br><span class="line">        myDog.breed = <span class="string">&quot;Golden Retriever&quot;</span>;</span><br><span class="line">        myDog.age = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 调用 myDog 对象的方法</span></span><br><span class="line">        myDog.bark(); <span class="comment">// 输出：Woof!</span></span><br><span class="line">        myDog.displayInfo();</span><br><span class="line">        <span class="comment">// 输出：</span></span><br><span class="line">        <span class="comment">// Name: Buddy</span></span><br><span class="line">        <span class="comment">// Breed: Golden Retriever</span></span><br><span class="line">        <span class="comment">// Age: 3</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 创建另一个 Dog 对象</span></span><br><span class="line">        <span class="type">Dog</span> <span class="variable">anotherDog</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>();</span><br><span class="line">        anotherDog.name = <span class="string">&quot;Lucy&quot;</span>;</span><br><span class="line">        anotherDog.breed = <span class="string">&quot;Poodle&quot;</span>;</span><br><span class="line">        anotherDog.age = <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line">        anotherDog.displayInfo();</span><br><span class="line">        <span class="comment">// 输出：</span></span><br><span class="line">        <span class="comment">// Name: Lucy</span></span><br><span class="line">        <span class="comment">// Breed: Poodle</span></span><br><span class="line">        <span class="comment">// Age: 5</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>Dog</code> 类定义了狗的通用属性（<code>name</code>、<code>breed</code>、<code>age</code>）和行为（<code>bark</code>、<code>displayInfo</code>）。</li>
<li><code>myDog</code> 和 <code>anotherDog</code> 是 <code>Dog</code> 类的两个不同的对象，它们拥有各自的属性值。</li>
</ul>
<h2 id="2-封装-Encapsulation"><a href="#2-封装-Encapsulation" class="headerlink" title="2. 封装 (Encapsulation)"></a><strong>2. 封装 (Encapsulation)</strong></h2><p>在 Java 中，封装通过将属性声明为 <code>private</code>，并提供 <code>public</code> 的 getter 和 setter 方法来实现。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dog</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String breed;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Getter 方法</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getBreed</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> breed;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Setter 方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setBreed</span><span class="params">(String breed)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.breed = breed;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (age &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="built_in">this</span>.age = age;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Age cannot be negative.&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">bark</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Woof!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">displayInfo</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Name: &quot;</span> + name);</span><br><span class="line">        System.out.println(<span class="string">&quot;Breed: &quot;</span> + breed);</span><br><span class="line">        System.out.println(<span class="string">&quot;Age: &quot;</span> + age);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Dog</span> <span class="variable">myDog</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 使用 setter 方法设置属性</span></span><br><span class="line">        myDog.setName(<span class="string">&quot;Buddy&quot;</span>);</span><br><span class="line">        myDog.setBreed(<span class="string">&quot;Golden Retriever&quot;</span>);</span><br><span class="line">        myDog.setAge(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 使用 getter 方法获取属性</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Name: &quot;</span> + myDog.getName());</span><br><span class="line">        System.out.println(<span class="string">&quot;Breed: &quot;</span> + myDog.getBreed());</span><br><span class="line">        System.out.println(<span class="string">&quot;Age: &quot;</span> + myDog.getAge());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>name</code>、<code>breed</code> 和 <code>age</code> 属性被声明为 <code>private</code>，这意味着它们只能在 <code>Dog</code> 类内部访问。</li>
<li><code>getName</code>、<code>getBreed</code>、<code>getAge</code> 方法是 getter 方法，用于获取属性的值。</li>
<li><code>setName</code>、<code>setBreed</code>、<code>setAge</code> 方法是 setter 方法，用于设置属性的值。</li>
<li>setter 方法可以包含逻辑，例如，验证输入值的有效性（如 <code>setAge</code> 方法中的年龄验证）。</li>
</ul>
<h2 id="3-继承-Inheritance"><a href="#3-继承-Inheritance" class="headerlink" title="3. 继承 (Inheritance)"></a><strong>3. 继承 (Inheritance)</strong></h2><p>在 Java 中，使用 <code>extends</code> 关键字来实现继承。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个 Animal 类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Animal</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Animal is eating.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义一个 Dog 类，继承自 Animal 类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    String breed;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Dog</span><span class="params">(String name, String breed)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(name); <span class="comment">// 调用父类的构造方法</span></span><br><span class="line">        <span class="built_in">this</span>.breed = breed;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">bark</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Woof!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 重写父类的 eat 方法</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Dog is eating.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Dog</span> <span class="variable">myDog</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;Buddy&quot;</span>, <span class="string">&quot;Golden Retriever&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;Name: &quot;</span> + myDog.name); <span class="comment">// 访问父类的属性</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Breed: &quot;</span> + myDog.breed); <span class="comment">// 访问子类的属性</span></span><br><span class="line">        myDog.eat(); <span class="comment">// 调用重写后的方法</span></span><br><span class="line">        myDog.bark(); <span class="comment">// 调用子类的方法</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>Dog</code> 类继承了 <code>Animal</code> 类的 <code>name</code> 属性和 <code>eat</code> 方法。</li>
<li><code>Dog</code> 类添加了自己的属性 <code>breed</code> 和方法 <code>bark</code>。</li>
<li><code>Dog</code> 类重写了 <code>eat</code> 方法，提供了自己的实现。</li>
<li><code>super(name)</code> 用于调用父类的构造方法，初始化父类的属性。</li>
<li><code>@Override</code> 注解用于表示该方法是重写父类的方法。</li>
</ul>
<h2 id="4-多态-Polymorphism"><a href="#4-多态-Polymorphism" class="headerlink" title="4. 多态 (Polymorphism)"></a><strong>4. 多态 (Polymorphism)</strong></h2><p>在 Java 中，多态可以通过方法重写 (method overriding) 和接口 (interface) 来实现。</p>
<h3 id="1-方法重写-Method-Overriding"><a href="#1-方法重写-Method-Overriding" class="headerlink" title="1.  方法重写 (Method Overriding)"></a>1.  <strong>方法重写 (Method Overriding)</strong></h3><pre><code><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">makeSound</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Generic animal sound&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">makeSound</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Woof!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span> <span class="keyword">extends</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">makeSound</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Meow!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Animal</span> <span class="variable">animal1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Animal</span>();</span><br><span class="line">        <span class="type">Animal</span> <span class="variable">animal2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>();</span><br><span class="line">        <span class="type">Animal</span> <span class="variable">animal3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br><span class="line"></span><br><span class="line">        animal1.makeSound(); <span class="comment">// 输出：Generic animal sound</span></span><br><span class="line">        animal2.makeSound(); <span class="comment">// 输出：Woof!</span></span><br><span class="line">        animal3.makeSound(); <span class="comment">// 输出：Meow!</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

*   `Animal` 类有一个 `makeSound` 方法。
*   `Dog` 和 `Cat` 类都继承了 `Animal` 类，并重写了 `makeSound` 方法。
*   在 `main` 方法中，使用 `Animal` 类型的引用来引用 `Dog` 和 `Cat` 对象，调用 `makeSound` 方法时，会根据对象的实际类型来执行不同的方法。
</code></pre>
<h3 id="2-接口-Interface"><a href="#2-接口-Interface" class="headerlink" title="2.  接口 (Interface)"></a>2.  <strong>接口 (Interface)</strong></h3><pre><code><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个接口</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">makeSound</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 实现接口</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">implements</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">makeSound</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Woof!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span> <span class="keyword">implements</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">makeSound</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Meow!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Animal</span> <span class="variable">animal1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>();</span><br><span class="line">        <span class="type">Animal</span> <span class="variable">animal2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br><span class="line"></span><br><span class="line">        animal1.makeSound(); <span class="comment">// 输出：Woof!</span></span><br><span class="line">        animal2.makeSound(); <span class="comment">// 输出：Meow!</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

*   `Animal` 接口定义了一个 `makeSound` 方法。
*   `Dog` 和 `Cat` 类都实现了 `Animal` 接口，并提供了 `makeSound` 方法的实现。
*   在 `main` 方法中，使用 `Animal` 类型的引用来引用 `Dog` 和 `Cat` 对象，调用 `makeSound` 方法时，会根据对象的实际类型来执行不同的方法。
</code></pre>
<h2 id="5-抽象-Abstraction"><a href="#5-抽象-Abstraction" class="headerlink" title="5. 抽象 (Abstraction)"></a><strong>5. 抽象 (Abstraction)</strong></h2><p>在 Java 中，可以使用抽象类 (abstract class) 和接口 (interface) 来实现抽象。</p>
<h3 id="1-抽象类-Abstract-Class"><a href="#1-抽象类-Abstract-Class" class="headerlink" title="1.  抽象类 (Abstract Class)"></a>1.  <strong>抽象类 (Abstract Class)</strong></h3><pre><code><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个抽象类</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Animal</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 抽象方法，没有具体实现</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">makeSound</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 普通方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Animal is eating.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 继承抽象类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Dog</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">makeSound</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Woof!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 无法创建抽象类的对象</span></span><br><span class="line">        <span class="comment">// Animal animal = new Animal(&quot;Generic Animal&quot;); // 错误</span></span><br><span class="line"></span><br><span class="line">        <span class="type">Dog</span> <span class="variable">myDog</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;Buddy&quot;</span>);</span><br><span class="line">        myDog.makeSound(); <span class="comment">// 输出：Woof!</span></span><br><span class="line">        myDog.eat(); <span class="comment">// 输出：Animal is eating.</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

*   抽象类使用 `abstract` 关键字声明。
*   抽象类可以包含抽象方法（没有具体实现的方法）和普通方法。
*   抽象类不能被实例化（不能创建对象）。
*   子类必须实现抽象类中的所有抽象方法，除非子类也是抽象类。
</code></pre>
<h3 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h3><p><strong>1. 接口的定义和声明</strong></p>
<p>接口使用 <code>interface</code> 关键字来声明。接口是一种完全抽象的类型，它定义了一组方法签名，但不提供方法的具体实现。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">MyInterface</span> &#123;</span><br><span class="line">    <span class="comment">// 接口的成员</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>2. 接口的成员</strong></p>
<ul>
<li><strong>抽象方法：</strong> 接口中的方法默认是 <code>public abstract</code>，可以省略 <code>public abstract</code> 关键字。这些方法没有方法体，必须由实现该接口的类来提供具体实现。</li>
<li><strong>常量：</strong> 接口可以包含常量，这些常量默认是 <code>public static final</code>。</li>
<li><strong>默认方法（Java 8+）：</strong> 接口可以包含默认方法，使用 <code>default</code> 关键字声明。默认方法提供了方法的默认实现，实现类可以选择性地覆盖这些方法。</li>
<li><strong>静态方法（Java 8+）：</strong> 接口可以包含静态方法，使用 <code>static</code> 关键字声明。静态方法属于接口本身，可以通过接口名直接调用。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">MyInterface</span> &#123;</span><br><span class="line">    <span class="comment">// 常量</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">MY_CONSTANT</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 抽象方法</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">myMethod</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 默认方法</span></span><br><span class="line">    <span class="keyword">default</span> <span class="keyword">void</span> <span class="title function_">myDefaultMethod</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Default implementation&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 静态方法</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">myStaticMethod</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Static method&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>3. 实现接口</strong></p>
<p>一个类使用 <code>implements</code> 关键字来实现一个或多个接口。实现接口的类必须提供接口中所有抽象方法的具体实现，除非该类是抽象类。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyClass</span> <span class="keyword">implements</span> <span class="title class_">MyInterface</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">myMethod</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;My method implementation&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>4. 接口的特性</strong></p>
<ul>
<li><strong>多重继承：</strong> 一个类可以实现多个接口，从而实现多重继承的效果。这是 Java 中解决多重继承问题的一种方式。</li>
<li><strong>类型声明：</strong> 接口可以作为一种类型来声明变量，从而实现多态。</li>
<li><strong>解耦合：</strong> 接口可以降低类之间的耦合度，提高代码的灵活性和可维护性。</li>
</ul>
<p><strong>5. 接口的用途</strong></p>
<ul>
<li><strong>定义规范：</strong> 接口可以定义一组规范，要求所有实现类都遵循这些规范。</li>
<li><strong>实现回调：</strong> 接口可以用于实现回调机制，即当某个事件发生时，通过接口调用实现类中的方法。</li>
<li><strong>实现插件化：</strong> 接口可以用于实现插件化架构，即通过接口定义插件的接口，然后由不同的类来实现这些插件。</li>
</ul>
<p><strong>6. 接口 vs 抽象类</strong></p>
<p>接口和抽象类都是用于实现抽象的机制，但它们之间有一些关键区别：</p>
<ul>
<li><strong>成员变量：</strong> 接口通常只有常量（<code>static final</code>），而抽象类可以有成员变量。</li>
<li><strong>方法实现：</strong> 接口在 Java 8 之前只能有抽象方法，而抽象类可以有已经实现的方法。Java 8 之后，接口可以有默认方法和静态方法。</li>
<li><strong>继承：</strong> 一个类只能继承一个抽象类，但可以实现多个接口。</li>
<li><strong>设计理念：</strong> 抽象类通常用于表示 “is-a” 关系，即子类是父类的一种特殊类型。接口通常用于表示 “can-do” 关系，即类可以实现接口中的行为。</li>
</ul>
<p><strong>7. 示例</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个接口</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">makeSound</span><span class="params">()</span>; <span class="comment">// 接口中的方法默认是 public abstract</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 实现接口</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">implements</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">makeSound</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Woof!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span> <span class="keyword">implements</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">makeSound</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Meow!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Animal</span> <span class="variable">myDog</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>();</span><br><span class="line">        myDog.makeSound(); <span class="comment">// 输出：Woof!</span></span><br><span class="line"></span><br><span class="line">        <span class="type">Animal</span> <span class="variable">myCat</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br><span class="line">        myCat.makeSound(); <span class="comment">// 输出：Meow!</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这个例子中，<code>Animal</code> 是一个接口，它定义了一个 <code>makeSound</code> 抽象方法。<code>Dog</code> 和 <code>Cat</code> 类实现了 <code>Animal</code> 接口，并提供了 <code>makeSound</code> 方法的具体实现。</p>
<h2 id="什么是构造器？"><a href="#什么是构造器？" class="headerlink" title="什么是构造器？"></a><strong>什么是构造器？</strong></h2><p>构造器是一种特殊的方法，用于创建和初始化类的对象。 构造器的名称必须与类名相同，并且没有返回类型（即使是 <code>void</code> 也不行）。</p>
<h3 id="构造器的作用"><a href="#构造器的作用" class="headerlink" title="构造器的作用"></a><strong>构造器的作用</strong></h3><ul>
<li><strong>创建对象</strong>：使用 <code>new</code> 关键字调用构造器来创建类的对象。</li>
<li><strong>初始化对象</strong>：构造器可以初始化对象的属性，设置对象的初始状态。</li>
</ul>
<h3 id="构造器的特点"><a href="#构造器的特点" class="headerlink" title="构造器的特点"></a><strong>构造器的特点</strong></h3><ul>
<li><strong>名称与类名相同</strong>：构造器的名称必须与类名完全相同（包括大小写）。</li>
<li><strong>没有返回类型</strong>：构造器没有返回类型，即使是 <code>void</code> 也不行。</li>
<li><strong>可以重载</strong>：一个类可以有多个构造器，只要它们的参数列表不同（参数类型、参数个数或参数顺序不同）。</li>
<li><strong>默认构造器</strong>：如果一个类没有显式地定义任何构造器，Java 编译器会自动为该类生成一个默认构造器。 默认构造器没有参数，并且不执行任何操作。</li>
<li><strong>构造器不能被继承</strong>：子类不能继承父类的构造器。</li>
<li><strong>构造器可以调用其他构造器</strong>：在一个构造器中可以使用 <code>this()</code> 调用同一个类的其他构造器。</li>
</ul>
<h3 id="构造器的声明"><a href="#构造器的声明" class="headerlink" title="构造器的声明"></a><strong>构造器的声明</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyClass</span> &#123;</span><br><span class="line">    <span class="comment">// 构造器</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyClass</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 构造器的代码</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="构造器的使用示例"><a href="#构造器的使用示例" class="headerlink" title="构造器的使用示例"></a><strong>构造器的使用示例</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dog</span> &#123;</span><br><span class="line">    String name;</span><br><span class="line">    String breed;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 默认构造器</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Dog</span><span class="params">()</span> &#123;</span><br><span class="line">        name = <span class="string">&quot;Unknown&quot;</span>;</span><br><span class="line">        breed = <span class="string">&quot;Unknown&quot;</span>;</span><br><span class="line">        age = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 带参数的构造器</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Dog</span><span class="params">(String name, String breed, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.breed = breed;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 另一个带参数的构造器，调用上面的构造器</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Dog</span><span class="params">(String name, String breed)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>(name, breed, <span class="number">0</span>); <span class="comment">// 调用 Dog(String name, String breed, int age) 构造器</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">displayInfo</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Name: &quot;</span> + name);</span><br><span class="line">        System.out.println(<span class="string">&quot;Breed: &quot;</span> + breed);</span><br><span class="line">        System.out.println(<span class="string">&quot;Age: &quot;</span> + age);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 使用默认构造器创建对象</span></span><br><span class="line">        <span class="type">Dog</span> <span class="variable">dog1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>();</span><br><span class="line">        dog1.displayInfo();</span><br><span class="line">        <span class="comment">// 输出：</span></span><br><span class="line">        <span class="comment">// Name: Unknown</span></span><br><span class="line">        <span class="comment">// Breed: Unknown</span></span><br><span class="line">        <span class="comment">// Age: 0</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 使用带参数的构造器创建对象</span></span><br><span class="line">        <span class="type">Dog</span> <span class="variable">dog2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;Buddy&quot;</span>, <span class="string">&quot;Golden Retriever&quot;</span>, <span class="number">3</span>);</span><br><span class="line">        dog2.displayInfo();</span><br><span class="line">        <span class="comment">// 输出：</span></span><br><span class="line">        <span class="comment">// Name: Buddy</span></span><br><span class="line">        <span class="comment">// Breed: Golden Retriever</span></span><br><span class="line">        <span class="comment">// Age: 3</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 使用另一个带参数的构造器创建对象</span></span><br><span class="line">        <span class="type">Dog</span> <span class="variable">dog3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;Lucy&quot;</span>, <span class="string">&quot;Poodle&quot;</span>);</span><br><span class="line">        dog3.displayInfo();</span><br><span class="line">        <span class="comment">// 输出：</span></span><br><span class="line">        <span class="comment">// Name: Lucy</span></span><br><span class="line">        <span class="comment">// Breed: Poodle</span></span><br><span class="line">        <span class="comment">// Age: 0</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>Dog</code> 类定义了三个构造器：一个默认构造器和两个带参数的构造器。</li>
<li>默认构造器将 <code>name</code>、<code>breed</code> 和 <code>age</code> 属性设置为默认值。</li>
<li>带参数的构造器使用传入的参数来初始化对象的属性。</li>
<li><code>this(name, breed, 0)</code> 用于调用同一个类的其他构造器。</li>
<li>在 <code>main</code> 方法中，使用不同的构造器来创建 <code>Dog</code> 对象，并调用 <code>displayInfo</code> 方法显示对象的信息。</li>
</ul>
<h3 id="构造器的作用-1"><a href="#构造器的作用-1" class="headerlink" title="构造器的作用"></a><strong>构造器的作用</strong></h3><ol>
<li><strong>初始化对象的状态</strong>：构造器可以设置对象的初始状态，确保对象在创建后处于一个有效的状态。</li>
<li><strong>强制执行初始化逻辑</strong>：构造器可以强制执行一些初始化逻辑，例如，验证输入参数的有效性，或者加载配置文件。</li>
<li><strong>简化对象创建</strong>：通过提供不同的构造器，可以方便地创建具有不同初始状态的对象。</li>
</ol>
<h3 id="构造器的注意事项"><a href="#构造器的注意事项" class="headerlink" title="构造器的注意事项"></a><strong>构造器的注意事项</strong></h3><ul>
<li>如果一个类没有显式地定义任何构造器，Java 编译器会自动为该类生成一个默认构造器。</li>
<li>如果一个类显式地定义了构造器，Java 编译器就不会再自动生成默认构造器。</li>
<li>子类不能继承父类的构造器，但可以使用 <code>super()</code> 关键字调用父类的构造器。</li>
<li>构造器应该尽量简单，避免在构造器中执行复杂的逻辑。</li>
</ul>
<h2 id="静态变量-Static-Variable"><a href="#静态变量-Static-Variable" class="headerlink" title="静态变量 (Static Variable)"></a><strong>静态变量 (Static Variable)</strong></h2><p>静态变量也称为类变量 (Class Variable)，它属于类，而不是属于类的任何特定对象。 这意味着无论创建多少个类的对象，静态变量在内存中只有一份拷贝。</p>
<h3 id="静态变量的特点"><a href="#静态变量的特点" class="headerlink" title="静态变量的特点"></a><strong>静态变量的特点</strong></h3><ul>
<li><strong>属于类</strong>：静态变量属于类，而不是属于类的任何特定对象。</li>
<li><strong>共享</strong>：所有类的对象共享同一个静态变量。</li>
<li><strong>内存中只有一份拷贝</strong>：无论创建多少个类的对象，静态变量在内存中只有一份拷贝。</li>
<li><strong>可以通过类名直接访问</strong>：可以使用 <code>类名.静态变量名</code> 的方式直接访问静态变量，而不需要创建类的对象。</li>
<li><strong>在类加载时初始化</strong>：静态变量在类加载时被初始化，并且只初始化一次。</li>
<li><strong>生命周期与类相同</strong>：静态变量的生命周期与类相同，当类被卸载时，静态变量才会被销毁。</li>
</ul>
<h3 id="静态变量的声明"><a href="#静态变量的声明" class="headerlink" title="静态变量的声明"></a><strong>静态变量的声明</strong></h3><p>使用 <code>static</code> 关键字来声明一个静态变量。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyClass</span> &#123;</span><br><span class="line">    <span class="comment">// 静态变量</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="静态变量的使用示例"><a href="#静态变量的使用示例" class="headerlink" title="静态变量的使用示例"></a><strong>静态变量的使用示例</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Counter</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>; <span class="comment">// 静态变量</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Counter</span><span class="params">()</span> &#123;</span><br><span class="line">        count++; <span class="comment">// 每次创建对象，count 加 1</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Counter</span> <span class="variable">c1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Counter</span>();</span><br><span class="line">        <span class="type">Counter</span> <span class="variable">c2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Counter</span>();</span><br><span class="line">        <span class="type">Counter</span> <span class="variable">c3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Counter</span>();</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;Number of objects created: &quot;</span> + Counter.count); <span class="comment">// 输出：Number of objects created: 3</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>count</code> 是一个静态变量，用于记录创建了多少个 <code>Counter</code> 对象。</li>
<li>每次创建 <code>Counter</code> 对象时，<code>count</code> 的值都会加 1。</li>
<li>可以使用 <code>Counter.count</code> 的方式直接访问静态变量，而不需要创建 <code>Counter</code> 对象。</li>
</ul>
<h3 id="静态方法-Static-Method"><a href="#静态方法-Static-Method" class="headerlink" title="静态方法 (Static Method)"></a><strong>静态方法 (Static Method)</strong></h3><p>静态方法也称为类方法 (Class Method)，它属于类，而不是属于类的任何特定对象。 静态方法只能访问静态变量和调用其他静态方法，不能访问非静态变量和调用非静态方法。</p>
<h3 id="静态方法的特点"><a href="#静态方法的特点" class="headerlink" title="静态方法的特点"></a><strong>静态方法的特点</strong></h3><ul>
<li><strong>属于类</strong>：静态方法属于类，而不是属于类的任何特定对象。</li>
<li><strong>可以通过类名直接调用</strong>：可以使用 <code>类名.静态方法名()</code> 的方式直接调用静态方法，而不需要创建类的对象。</li>
<li><strong>只能访问静态成员</strong>：静态方法只能访问静态变量和调用其他静态方法，不能访问非静态变量和调用非静态方法。</li>
<li><strong>不能使用 <code>this</code> 关键字</strong>：静态方法不能使用 <code>this</code> 关键字，因为 <code>this</code> 关键字指向当前对象，而静态方法不属于任何对象。</li>
</ul>
<h3 id="静态方法的声明"><a href="#静态方法的声明" class="headerlink" title="静态方法的声明"></a><strong>静态方法的声明</strong></h3><p>使用 <code>static</code> 关键字来声明一个静态方法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyClass</span> &#123;</span><br><span class="line">    <span class="comment">// 静态方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">myStaticMethod</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 静态方法的代码</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="静态方法的使用示例"><a href="#静态方法的使用示例" class="headerlink" title="静态方法的使用示例"></a><strong>静态方法的使用示例</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MathUtils</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="variable">PI</span> <span class="operator">=</span> <span class="number">3.14159</span>; <span class="comment">// 静态常量</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 静态方法，计算圆的面积</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">calculateCircleArea</span><span class="params">(<span class="type">double</span> radius)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> PI * radius * radius;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">double</span> <span class="variable">radius</span> <span class="operator">=</span> <span class="number">5.0</span>;</span><br><span class="line">        <span class="type">double</span> <span class="variable">area</span> <span class="operator">=</span> MathUtils.calculateCircleArea(radius); <span class="comment">// 调用静态方法</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Area of circle with radius &quot;</span> + radius + <span class="string">&quot; is: &quot;</span> + area); <span class="comment">// 输出：Area of circle with radius 5.0 is: 78.53975</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>calculateCircleArea</code> 是一个静态方法，用于计算圆的面积。</li>
<li>可以使用 <code>MathUtils.calculateCircleArea(radius)</code> 的方式直接调用静态方法，而不需要创建 <code>MathUtils</code> 对象。</li>
<li>静态方法可以访问静态常量 <code>PI</code>。</li>
</ul>
<h3 id="静态变量和静态方法的用途"><a href="#静态变量和静态方法的用途" class="headerlink" title="静态变量和静态方法的用途"></a><strong>静态变量和静态方法的用途</strong></h3><ul>
<li><strong>存储类级别的状态</strong>：静态变量可以用于存储类级别的状态，例如，记录创建了多少个对象，或者存储一些配置信息。</li>
<li><strong>提供工具方法</strong>：静态方法可以用于提供一些工具方法，例如，数学计算、字符串处理等。</li>
<li><strong>实现单例模式</strong>：静态变量和静态方法可以用于实现单例模式，确保一个类只有一个实例。</li>
</ul>
<h3 id="静态变量和静态方法的注意事项"><a href="#静态变量和静态方法的注意事项" class="headerlink" title="静态变量和静态方法的注意事项"></a><strong>静态变量和静态方法的注意事项</strong></h3><ul>
<li>静态变量在类加载时被初始化，并且只初始化一次。</li>
<li>静态方法只能访问静态变量和调用其他静态方法，不能访问非静态变量和调用非静态方法。</li>
<li>静态方法不能使用 <code>this</code> 关键字。</li>
<li>过度使用静态变量和静态方法可能会导致代码的耦合度增加，降低代码的可测试性和可维护性。</li>
</ul>
<h2 id="1-final-变量"><a href="#1-final-变量" class="headerlink" title="1.  final 变量:"></a>1.  <strong>final 变量</strong>:</h2><pre><code>*   表示常量，一旦被赋值后，其值不能被修改。
*   `final` 变量必须在声明时或在类的构造器中初始化。
*   对于基本类型，`final` 使数值不变；对于引用类型，`final` 使引用不可变，即不能指向其他对象，但对象自身的内容是可以改变的。

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">10</span>; <span class="comment">// x 的值不能被修改</span></span><br><span class="line"><span class="keyword">final</span> <span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Alice&quot;</span>); <span class="comment">// person 不能指向其他 Person 对象</span></span><br><span class="line">person.setName(<span class="string">&quot;Bob&quot;</span>); <span class="comment">// 但是可以修改 person 对象的内容</span></span><br></pre></td></tr></table></figure>
</code></pre>
<h3 id="final-方法"><a href="#final-方法" class="headerlink" title="final 方法:"></a><strong>final 方法</strong>:</h3><pre><code>*   表示该方法不能被子类重写 (override)。
*   使用 `final` 方法可以防止子类修改父类的行为，保证程序的安全性。
*   `private` 方法默认是 `final` 的，因为它们不能在子类中被访问，所以也不能被重写。

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Parent</span> &#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">display</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;This is a final method.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Child</span> <span class="keyword">extends</span> <span class="title class_">Parent</span> &#123;</span><br><span class="line">    <span class="comment">// 无法重写 display 方法</span></span><br><span class="line">    <span class="comment">// void display() &#123;&#125; // 编译错误</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
<h3 id="final-类"><a href="#final-类" class="headerlink" title="final 类:"></a><strong>final 类</strong>:</h3><pre><code>*   表示该类不能被继承。
*   `final` 类通常用于创建不可变的类，例如 `String` 类。
*   `final` 类中的所有方法都隐式地是 `final` 的。

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">ImmutableClass</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> value;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ImmutableClass</span><span class="params">(<span class="type">int</span> value)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.value = value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getValue</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 无法继承 ImmutableClass</span></span><br><span class="line"><span class="comment">// class SubClass extends ImmutableClass &#123;&#125; // 编译错误</span></span><br></pre></td></tr></table></figure>
</code></pre>
<p>总结：</p>
<ul>
<li><code>final</code> 变量：保证变量引用的对象不变。</li>
<li><code>final</code> 方法：保证方法不被子类重写。</li>
<li><code>final</code> 类：保证类不被继承。</li>
</ul>
<p>使用 <code>final</code> 关键字可以提高代码的健壮性和安全性，但也可能降低代码的灵活性。</p>
<h2 id="单例类"><a href="#单例类" class="headerlink" title="单例类"></a>单例类</h2><h3 id="1-饿汉式（Eager-Initialization）"><a href="#1-饿汉式（Eager-Initialization）" class="headerlink" title="1. 饿汉式（Eager Initialization）"></a><strong>1. 饿汉式（Eager Initialization）</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line">    <span class="comment">// 1. 创建一个静态的、final 的实例。</span></span><br><span class="line">    <span class="comment">//    - static 保证该实例在类加载时就被创建，且只有一个。</span></span><br><span class="line">    <span class="comment">//    - final 保证该实例创建后不可被修改。</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Singleton</span> <span class="variable">instance</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Singleton</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2. 私有化构造函数。</span></span><br><span class="line">    <span class="comment">//    - private 关键字确保外部类无法直接通过 new 关键字创建 Singleton 类的实例。</span></span><br><span class="line">    <span class="comment">//    - 这是实现单例模式的关键步骤，防止外部随意创建对象。</span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Singleton</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 私有构造函数，防止外部实例化</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3. 提供一个公共的静态方法来获取单例实例。</span></span><br><span class="line">    <span class="comment">//    - static 关键字允许直接通过类名调用该方法，无需创建对象。</span></span><br><span class="line">    <span class="comment">//    - 该方法返回上面创建的唯一实例。</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>优点：</strong> 实现简单，线程安全（因为实例在类加载时创建）。</li>
<li><strong>缺点：</strong> 无论是否使用，实例都会在类加载时创建，可能造成资源浪费。</li>
</ul>
<h3 id="2-懒汉式（Lazy-Initialization）"><a href="#2-懒汉式（Lazy-Initialization）" class="headerlink" title="2. 懒汉式（Lazy Initialization）"></a><strong>2. 懒汉式（Lazy Initialization）</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line">    <span class="comment">// 静态私有成员变量，用于存储单例实例</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Singleton instance;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 私有构造函数，防止外部类通过 new 关键字创建实例</span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Singleton</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 可以在这里添加一些初始化逻辑</span></span><br><span class="line">        <span class="comment">// 例如：初始化一些配置信息</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 静态公共方法，用于获取单例实例</span></span><br><span class="line">    <span class="comment">// 使用 synchronized 关键字保证线程安全，防止多线程环境下创建多个实例</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> Singleton <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 如果实例为空，则创建实例</span></span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="literal">null</span>) &#123;</span><br><span class="line">            instance = <span class="keyword">new</span> <span class="title class_">Singleton</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 返回单例实例</span></span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>优点：</strong> 延迟加载，只有在第一次调用 <code>getInstance()</code> 方法时才会创建实例。</li>
<li><strong>缺点：</strong> 线程安全问题。在多线程环境下，可能会创建多个实例。使用 <code>synchronized</code> 关键字可以解决线程安全问题，但会降低性能。</li>
</ul>
<h3 id="3-双重检查锁（Double-Checked-Locking）"><a href="#3-双重检查锁（Double-Checked-Locking）" class="headerlink" title="3. 双重检查锁（Double-Checked Locking）"></a><strong>3. 双重检查锁（Double-Checked Locking）</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line">    <span class="comment">// 使用 volatile 关键字确保多线程环境下的可见性</span></span><br><span class="line">    <span class="comment">// 当 instance 被初始化后，所有线程都能立即看到最新的值</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">volatile</span> <span class="keyword">static</span> Singleton instance;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 私有构造函数，防止外部实例化</span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Singleton</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 这里可以添加一些初始化逻辑，例如读取配置文件等</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 提供一个全局访问点，获取 Singleton 实例</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 第一次检查，如果 instance 已经创建，则直接返回，避免进入同步块</span></span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">// 使用 synchronized 关键字对 Singleton.class 进行同步</span></span><br><span class="line">            <span class="comment">// 保证只有一个线程可以进入该代码块</span></span><br><span class="line">            <span class="keyword">synchronized</span> (Singleton.class) &#123;</span><br><span class="line">                <span class="comment">// 第二次检查，防止多个线程同时进入同步块后重复创建实例</span></span><br><span class="line">                <span class="keyword">if</span> (instance == <span class="literal">null</span>) &#123;</span><br><span class="line">                    <span class="comment">// 创建 Singleton 实例</span></span><br><span class="line">                    instance = <span class="keyword">new</span> <span class="title class_">Singleton</span>();</span><br><span class="line">                    <span class="comment">// 这行代码实际上做了三件事：</span></span><br><span class="line">                    <span class="comment">// 1. 分配内存空间</span></span><br><span class="line">                    <span class="comment">// 2. 初始化 Singleton 对象</span></span><br><span class="line">                    <span class="comment">// 3. 将 instance 指向分配的内存地址</span></span><br><span class="line">                    <span class="comment">// 由于指令重排序的存在，可能会导致 1-&gt;3-&gt;2 的执行顺序</span></span><br><span class="line">                    <span class="comment">// 这就是为什么需要 volatile 关键字的原因</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 返回 Singleton 实例</span></span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>优点：</strong> 延迟加载，线程安全，性能相对较高。</li>
<li><strong>缺点：</strong> 实现较为复杂。需要使用 <code>volatile</code> 关键字来防止指令重排序。</li>
</ul>
<h3 id="4-静态内部类（Static-Inner-Class）"><a href="#4-静态内部类（Static-Inner-Class）" class="headerlink" title="4. 静态内部类（Static Inner Class）"></a><strong>4. 静态内部类（Static Inner Class）</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line">    <span class="comment">// 私有构造函数，防止外部类直接实例化该类</span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Singleton</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 可以添加一些初始化逻辑，如果需要的话</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 静态内部类，用于延迟加载 Singleton 实例</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">SingletonHolder</span> &#123;</span><br><span class="line">        <span class="comment">// 在类加载时就创建 Singleton 实例，保证线程安全</span></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Singleton</span> <span class="variable">instance</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Singleton</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 公有的静态方法，用于获取 Singleton 实例</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 返回内部类持有的唯一实例</span></span><br><span class="line">        <span class="keyword">return</span> SingletonHolder.instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>优点：</strong> 延迟加载，线程安全，实现简单。</li>
<li><strong>缺点：</strong> 无。这是推荐的单例模式实现方式。</li>
</ul>
<h3 id="5-枚举（Enum）"><a href="#5-枚举（Enum）" class="headerlink" title="5. 枚举（Enum）"></a><strong>5. 枚举（Enum）</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line">    INSTANCE;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doSomething</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>优点：</strong> 简洁，线程安全，防止反射攻击和序列化问题。</li>
<li><strong>缺点：</strong> 不能延迟加载，不适用于需要传递参数给构造函数的情况。</li>
</ul>
<p><strong>总结：</strong></p>
<ul>
<li>如果不需要延迟加载，推荐使用<strong>饿汉式</strong>或<strong>枚举</strong>。</li>
<li>如果需要延迟加载，推荐使用<strong>静态内部类</strong>。</li>
<li><strong>双重检查锁</strong>实现较为复杂，需要注意 <code>volatile</code> 关键字的使用。</li>
<li><strong>懒汉式</strong>在多线程环境下存在线程安全问题，不推荐使用。</li>
</ul>
<h2 id="Java-抽象类。"><a href="#Java-抽象类。" class="headerlink" title="Java 抽象类。"></a>Java 抽象类。</h2><h3 id="1-抽象类的定义和声明"><a href="#1-抽象类的定义和声明" class="headerlink" title="1. 抽象类的定义和声明"></a><strong>1. 抽象类的定义和声明</strong></h3><p>抽象类使用 <code>abstract</code> 关键字来声明。一个类被声明为抽象类，意味着它可能包含抽象方法，也可能不包含。关键在于，抽象类不能被直接实例化。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">    <span class="comment">// 类的成员变量和方法</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-抽象方法"><a href="#2-抽象方法" class="headerlink" title="2. 抽象方法"></a><strong>2. 抽象方法</strong></h3><p>抽象方法是没有方法体的方法，只有方法签名。它也使用 <code>abstract</code> 关键字声明。抽象方法必须存在于抽象类中。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">    <span class="comment">// 抽象方法，没有具体实现</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="type">double</span> <span class="title function_">getArea</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-抽象类与普通类的区别"><a href="#3-抽象类与普通类的区别" class="headerlink" title="3. 抽象类与普通类的区别"></a><strong>3. 抽象类与普通类的区别</strong></h3><ul>
<li><strong>实例化：</strong> 抽象类不能被实例化，而普通类可以。</li>
<li><strong>抽象方法：</strong> 抽象类可以包含抽象方法，而普通类不能。如果一个类包含抽象方法，那么这个类必须声明为抽象类。</li>
<li><strong>实现：</strong> 抽象类可以包含已经实现的方法（即非抽象方法），而普通类只能包含已经实现的方法。</li>
</ul>
<h3 id="4-继承抽象类"><a href="#4-继承抽象类" class="headerlink" title="4. 继承抽象类"></a><strong>4. 继承抽象类</strong></h3><p>当一个类继承抽象类时，它需要遵循以下规则：</p>
<ul>
<li><strong>实现所有抽象方法：</strong> 如果子类不是抽象类，那么它必须实现父类中的所有抽象方法。</li>
<li><strong>声明为抽象类：</strong> 如果子类不想实现父类中的所有抽象方法，那么子类必须声明为抽象类。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 抽象类 Shape</span></span><br><span class="line"><span class="comment">// 抽象类不能被实例化，只能被继承</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">    <span class="comment">// 抽象方法 getArea()</span></span><br><span class="line">    <span class="comment">// 抽象方法没有具体实现，必须由子类实现</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="type">double</span> <span class="title function_">getArea</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 非抽象方法 display()</span></span><br><span class="line">    <span class="comment">// 非抽象方法有具体实现，子类可以选择重写或直接继承</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">display</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;This is a shape.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 子类 Circle 继承自 Shape</span></span><br><span class="line"><span class="comment">// Circle 是一个具体的类，可以被实例化</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span> <span class="keyword">extends</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">    <span class="comment">// 私有成员变量 radius，表示圆的半径</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> radius;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 构造方法，用于初始化 Circle 对象的 radius</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Circle</span><span class="params">(<span class="type">double</span> radius)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.radius = radius;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 重写父类的抽象方法 getArea()</span></span><br><span class="line">    <span class="comment">// 实现计算圆的面积的逻辑</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getArea</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Math.PI * radius * radius;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 抽象子类 Polygon 继承自 Shape</span></span><br><span class="line"><span class="comment">// Polygon 是一个抽象类，不能被实例化</span></span><br><span class="line"><span class="comment">// Polygon 继承了 Shape 的抽象方法 getArea()，但没有实现它，所以 Polygon 仍然是抽象类</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Polygon</span> <span class="keyword">extends</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">    <span class="comment">// 抽象方法 getNumberOfSides()</span></span><br><span class="line">    <span class="comment">// 抽象方法没有具体实现，必须由子类实现</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="type">int</span> <span class="title function_">getNumberOfSides</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-构造器"><a href="#5-构造器" class="headerlink" title="5. 构造器"></a><strong>5. 构造器</strong></h3><p>抽象类可以有构造器。虽然不能直接实例化抽象类，但是当创建子类实例时，抽象类的构造器会被调用。构造器通常用于初始化抽象类的成员变量。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name; <span class="comment">// 动物的名字</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 动物类的构造器</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name 动物的名字</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Animal</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name; <span class="comment">// 初始化动物的名字</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Animal constructor called.&quot;</span>); <span class="comment">// 打印构造器被调用的信息</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取动物的名字</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> 动物的名字</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name; <span class="comment">// 返回动物的名字</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 抽象方法，用于定义动物发出声音的行为。</span></span><br><span class="line"><span class="comment">     * 具体的实现由子类完成。</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">makeSound</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Dog 类，继承自 Animal 类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Dog 类的构造器</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name 狗的名字</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Dog</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(name); <span class="comment">// 调用父类（Animal）的构造器，初始化狗的名字</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 重写父类的 makeSound 方法，实现狗发出声音的行为</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">makeSound</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Woof!&quot;</span>); <span class="comment">// 打印狗叫的声音</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 主类，包含 main 方法</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 主方法，程序的入口</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> args 命令行参数</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Dog</span> <span class="variable">dog</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;Buddy&quot;</span>); <span class="comment">// 创建一个 Dog 对象，名字是 &quot;Buddy&quot;，会调用 Animal 的构造器，输出 &quot;Animal constructor called.&quot;</span></span><br><span class="line">        dog.makeSound(); <span class="comment">// 调用 Dog 对象的 makeSound 方法，输出 &quot;Woof!&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="6-抽象类的用途"><a href="#6-抽象类的用途" class="headerlink" title="6. 抽象类的用途"></a><strong>6. 抽象类的用途</strong></h3><ul>
<li><strong>定义通用接口：</strong> 抽象类可以定义一组方法，要求所有子类都实现这些方法，从而确保子类具有相同的接口。</li>
<li><strong>代码复用：</strong> 抽象类可以提供一些通用的实现，子类可以直接继承和使用，避免重复编写代码。</li>
<li><strong>实现多态：</strong> 通过抽象类，可以实现多态，即使用父类类型的引用来引用子类对象，从而实现灵活的设计。</li>
</ul>
<h3 id="7-抽象类-vs-接口"><a href="#7-抽象类-vs-接口" class="headerlink" title="7. 抽象类 vs 接口"></a><strong>7. 抽象类 vs 接口</strong></h3><p>抽象类和接口都是用于实现抽象的机制，但它们之间有一些关键区别：</p>
<ul>
<li><strong>成员变量：</strong> 抽象类可以有成员变量，而接口通常只有常量（<code>static final</code>）。</li>
<li><strong>方法实现：</strong> 抽象类可以有已经实现的方法，而接口在 Java 8 之前只能有抽象方法。Java 8 之后，接口可以有默认方法和静态方法。</li>
<li><strong>继承：</strong> 一个类只能继承一个抽象类，但可以实现多个接口。</li>
<li><strong>设计理念：</strong> 抽象类通常用于表示 “is-a” 关系，即子类是父类的一种特殊类型。接口通常用于表示 “can-do” 关系，即类可以实现接口中的行为。</li>
</ul>
<h2 id="Java-代码块"><a href="#Java-代码块" class="headerlink" title="**Java 代码块"></a>**Java 代码块</h2><p>Java 代码块的类型</p>
<p>Java 中主要有四种类型的代码块：</p>
<ol>
<li><strong>普通代码块 (Local Block)</strong></li>
<li><strong>构造代码块 (Instance Initializer Block)</strong></li>
<li><strong>静态代码块 (Static Initializer Block)</strong></li>
<li><strong>同步代码块 (Synchronized Block)</strong></li>
</ol>
<p>接下来，我们逐一介绍这些代码块。</p>
<h3 id="1-普通代码块-Local-Block"><a href="#1-普通代码块-Local-Block" class="headerlink" title="1. 普通代码块 (Local Block)"></a><strong>1. 普通代码块 (Local Block)</strong></h3><ul>
<li><strong>定义：</strong> 位于方法或语句中的代码块，用花括号 <code>&#123;&#125;</code> 包围。</li>
<li><strong>作用：</strong><ul>
<li>限制变量的作用域：在代码块中声明的变量只能在该代码块内部访问。</li>
<li>提高代码的可读性：将相关的代码组织在一起。</li>
</ul>
</li>
<li><strong>执行时机：</strong> 当程序执行到该代码块时，代码块中的代码会被执行。</li>
</ul>
<p><strong>示例：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        &#123; <span class="comment">// 普通代码块</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">            System.out.println(<span class="string">&quot;x = &quot;</span> + x); <span class="comment">// 输出: x = 10</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// System.out.println(&quot;x = &quot; + x); // 编译错误：x 在这里不可见</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-构造代码块-Instance-Initializer-Block"><a href="#2-构造代码块-Instance-Initializer-Block" class="headerlink" title="2. 构造代码块 (Instance Initializer Block)"></a><strong>2. 构造代码块 (Instance Initializer Block)</strong></h3><ul>
<li><strong>定义：</strong> 位于类中，没有 <code>static</code> 关键字的代码块，用花括号 <code>&#123;&#125;</code> 包围。</li>
<li><strong>作用：</strong><ul>
<li>在每次创建对象时执行，且在构造方法之前执行。</li>
<li>可以用来初始化实例变量，或者执行一些需要在每次创建对象时都执行的代码。</li>
</ul>
</li>
<li><strong>执行时机：</strong> 在每次创建对象时，构造方法之前执行。如果类中有多个构造代码块，它们会按照在类中出现的顺序依次执行。</li>
</ul>
<p><strong>示例：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    &#123; <span class="comment">// 构造代码块</span></span><br><span class="line">        System.out.println(<span class="string">&quot;构造代码块执行&quot;</span>);</span><br><span class="line">        name = <span class="string">&quot;Unknown&quot;</span>; <span class="comment">// 初始化 name 变量</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;构造方法执行&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">        <span class="comment">// 输出:</span></span><br><span class="line">        <span class="comment">// 构造代码块执行</span></span><br><span class="line">        <span class="comment">// 构造方法执行</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-静态代码块-Static-Initializer-Block"><a href="#3-静态代码块-Static-Initializer-Block" class="headerlink" title="3. 静态代码块 (Static Initializer Block)"></a><strong>3. 静态代码块 (Static Initializer Block)</strong></h3><ul>
<li><strong>定义：</strong> 位于类中，使用 <code>static</code> 关键字修饰的代码块，用花括号 <code>&#123;&#125;</code> 包围。</li>
<li><strong>作用：</strong><ul>
<li>在类加载时执行，且只执行一次。</li>
<li>可以用来初始化静态变量，或者执行一些只需要在类加载时执行一次的代码。</li>
</ul>
</li>
<li><strong>执行时机：</strong> 在类加载时执行，且只执行一次。如果类中有多个静态代码块，它们会按照在类中出现的顺序依次执行。</li>
</ul>
<p><strong>示例：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyClass</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> count;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123; <span class="comment">// 静态代码块</span></span><br><span class="line">        System.out.println(<span class="string">&quot;静态代码块执行&quot;</span>);</span><br><span class="line">        count = <span class="number">0</span>; <span class="comment">// 初始化静态变量 count</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyClass</span><span class="params">()</span> &#123;</span><br><span class="line">        count++;</span><br><span class="line">        System.out.println(<span class="string">&quot;对象被创建，count = &quot;</span> + count);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">MyClass</span> <span class="variable">obj1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyClass</span>(); <span class="comment">// 输出: 对象被创建，count = 1</span></span><br><span class="line">        <span class="type">MyClass</span> <span class="variable">obj2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyClass</span>(); <span class="comment">// 输出: 对象被创建，count = 2</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 输出:</span></span><br><span class="line">    <span class="comment">// 静态代码块执行 (只执行一次)</span></span><br><span class="line">    <span class="comment">// 对象被创建，count = 1</span></span><br><span class="line">    <span class="comment">// 对象被创建，count = 2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-同步代码块-Synchronized-Block"><a href="#4-同步代码块-Synchronized-Block" class="headerlink" title="4. 同步代码块 (Synchronized Block)"></a><strong>4. 同步代码块 (Synchronized Block)</strong></h3><ul>
<li><strong>定义：</strong> 使用 <code>synchronized</code> 关键字修饰的代码块。</li>
<li><strong>作用：</strong><ul>
<li>用于控制多线程对共享资源的并发访问，保证线程安全。</li>
<li><code>synchronized</code> 关键字可以修饰方法或代码块。修饰代码块时，需要指定一个锁对象。</li>
</ul>
</li>
<li><strong>执行时机：</strong> 当线程尝试进入同步代码块时，会尝试获取锁。如果锁被其他线程占用，则该线程会被阻塞，直到获取到锁。</li>
</ul>
<p><strong>示例：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Counter</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">Object</span> <span class="variable">lock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Object</span>(); <span class="comment">// 锁对象</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">increment</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">synchronized</span> (lock) &#123; <span class="comment">// 同步代码块</span></span><br><span class="line">            count++;</span><br><span class="line">            System.out.println(<span class="string">&quot;Count = &quot;</span> + count + <span class="string">&quot;, Thread = &quot;</span> + Thread.currentThread().getName());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Counter</span> <span class="variable">counter</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Counter</span>();</span><br><span class="line"></span><br><span class="line">        <span class="type">Runnable</span> <span class="variable">task</span> <span class="operator">=</span> () -&gt; &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">                counter.increment();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(task, <span class="string">&quot;Thread-1&quot;</span>);</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(task, <span class="string">&quot;Thread-2&quot;</span>);</span><br><span class="line"></span><br><span class="line">        thread1.start();</span><br><span class="line">        thread2.start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            thread1.join();</span><br><span class="line">            thread2.join();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;Final Count = &quot;</span> + counter.count);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>总结</strong></p>
<ul>
<li><strong>普通代码块：</strong> 限制变量作用域，提高代码可读性。</li>
<li><strong>构造代码块：</strong> 在每次创建对象时执行，用于初始化实例变量。</li>
<li><strong>静态代码块：</strong> 在类加载时执行，用于初始化静态变量。</li>
<li><strong>同步代码块：</strong> 用于控制多线程对共享资源的并发访问，保证线程安全。</li>
</ul>
<h2 id="内部类"><a href="#内部类" class="headerlink" title="内部类"></a>内部类</h2><hr>
<h3 id="一、什么是内部类？"><a href="#一、什么是内部类？" class="headerlink" title="一、什么是内部类？"></a>一、什么是内部类？</h3><p><strong>内部类</strong>是指：<strong>定义在另一个类内部的类</strong>。<br>也就是说，一个类中可以再写一个类，这个“内部的类”就是内部类。</p>
<p>举个简单例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Outer</span> &#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Inner</span> &#123;</span><br><span class="line">        <span class="keyword">void</span> <span class="title function_">sayHello</span><span class="params">()</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Hello from Inner!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="二、Java-中的四种内部类类型"><a href="#二、Java-中的四种内部类类型" class="headerlink" title="二、Java 中的四种内部类类型"></a>二、Java 中的四种内部类类型</h3><p>Java 内部类有四种类型，每种都有自己的特点和使用场景：</p>
<table>
<thead>
<tr>
<th>类型</th>
<th>定义位置</th>
<th>是否能访问外部类成员</th>
<th>是否需要外部类对象</th>
<th>修饰符支持情况</th>
</tr>
</thead>
<tbody><tr>
<td>成员内部类</td>
<td>类的成员位置</td>
<td>✅ 可以</td>
<td>✅ 需要</td>
<td>public&#x2F;private 等</td>
</tr>
<tr>
<td>局部内部类</td>
<td>方法内部</td>
<td>✅ 可以（有限制）</td>
<td>✅ 需要</td>
<td>不允许使用 public 等</td>
</tr>
<tr>
<td>匿名内部类</td>
<td>没有名字，直接在 new 之后</td>
<td>✅ 可以</td>
<td>✅ 需要</td>
<td>不能有构造函数</td>
</tr>
<tr>
<td>静态内部类（嵌套类）</td>
<td>类的成员位置，使用 static</td>
<td>❌ 不能直接访问</td>
<td>❌ 不需要</td>
<td>可以是 public&#x2F;private 等</td>
</tr>
</tbody></table>
<hr>
<h3 id="三、逐个类型详细讲解"><a href="#三、逐个类型详细讲解" class="headerlink" title="三、逐个类型详细讲解"></a>三、逐个类型详细讲解</h3><hr>
<h4 id="1️⃣-成员内部类"><a href="#1️⃣-成员内部类" class="headerlink" title="1️⃣ 成员内部类"></a>1️⃣ 成员内部类</h4><p>就是定义在另一个类的 <strong>成员位置</strong> 的类（与字段&#x2F;方法平级）。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Outer</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> <span class="string">&quot;Outer msg&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Inner</span> &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Inner sees: &quot;</span> + msg);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>🧠 <strong>注意</strong>：</p>
<ul>
<li><p>成员内部类 <strong>可以访问外部类的私有成员</strong>。</p>
</li>
<li><p>创建方式：</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Outer</span> <span class="variable">outer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Outer</span>();</span><br><span class="line">Outer.<span class="type">Inner</span> <span class="variable">inner</span> <span class="operator">=</span> outer.<span class="keyword">new</span> <span class="title class_">Inner</span>();</span><br><span class="line">inner.show();</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="2️⃣-局部内部类（方法中定义类）"><a href="#2️⃣-局部内部类（方法中定义类）" class="headerlink" title="2️⃣ 局部内部类（方法中定义类）"></a>2️⃣ 局部内部类（方法中定义类）</h4><p>定义在方法、代码块、构造器中的类，作用域只在这个块内。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Outer</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">doSomething</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">class</span> <span class="title class_">Inner</span> &#123;</span><br><span class="line">            <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;局部内部类&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">Inner</span> <span class="variable">i</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Inner</span>();</span><br><span class="line">        i.print();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>✨ <strong>特点</strong>：</p>
<ul>
<li><p>类似于局部变量，出了方法就不能访问。</p>
</li>
<li><p>如果访问外部方法的局部变量，<strong>这个变量必须是 final 或 effectively final</strong>。</p>
</li>
</ul>
<hr>
<h4 id="3️⃣-匿名内部类"><a href="#3️⃣-匿名内部类" class="headerlink" title="3️⃣ 匿名内部类"></a>3️⃣ 匿名内部类</h4><p>🌟 这是最常见的一种形式，通常用来“临时实现一个接口或类”。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Runnable</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;匿名内部类实现的线程&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Thread</span>(r).start();</span><br></pre></td></tr></table></figure>

<p>🔍 特点：</p>
<ul>
<li><p><strong>没有类名！</strong>（所以叫“匿名”）</p>
</li>
<li><p>直接 new 接口或抽象类。</p>
</li>
<li><p>常用于回调、事件处理等场景。</p>
</li>
<li><p><strong>不能有构造函数</strong>。</p>
</li>
</ul>
<hr>
<h4 id="4️⃣-静态内部类（静态嵌套类）"><a href="#4️⃣-静态内部类（静态嵌套类）" class="headerlink" title="4️⃣ 静态内部类（静态嵌套类）"></a>4️⃣ 静态内部类（静态嵌套类）</h4><p>使用 <code>static</code> 修饰的内部类，<strong>它不依赖外部类对象</strong>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Outer</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">StaticInner</span> &#123;</span><br><span class="line">        <span class="keyword">void</span> <span class="title function_">say</span><span class="params">()</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;静态内部类，不需要外部类对象&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 使用方式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Outer.<span class="type">StaticInner</span> <span class="variable">inner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Outer</span>.StaticInner();</span><br><span class="line">inner.say();</span><br></pre></td></tr></table></figure>

<p>⚠️ 它不能访问外部类的非静态成员！</p>
<hr>
<h3 id="四、使用场景举例"><a href="#四、使用场景举例" class="headerlink" title="四、使用场景举例"></a>四、使用场景举例</h3><ul>
<li><p>成员内部类：当内部类需要频繁访问外部类的实例变量或方法时。</p>
</li>
<li><p>局部内部类：当一个类只在某个方法中用一次（封装临时逻辑）。</p>
</li>
<li><p>匿名内部类：在需要临时实现接口或抽象类时（如事件监听器、Runnable）。</p>
</li>
<li><p>静态内部类：用于实现工具类、构建器模式（Builder）、数据封装等。</p>
</li>
</ul>
<hr>
<h3 id="总结一句话："><a href="#总结一句话：" class="headerlink" title="总结一句话："></a>总结一句话：</h3><blockquote>
<p>内部类让你可以“把逻辑上相关的类放在一起”，并且可以方便地访问外部类的数据，让代码结构更紧凑，更清晰。</p>
</blockquote>
<h2 id="函数式编程"><a href="#函数式编程" class="headerlink" title="函数式编程"></a>函数式编程</h2><p><strong>什么是 Lambda 表达式？</strong></p>
<p>Lambda 表达式是 Java 8 引入的一个重要特性，它本质上是一个匿名函数，可以作为参数传递给方法或存储在变量中。 Lambda 表达式提供了一种简洁而灵活的方式来表示函数式接口（Functional Interface）的实例。</p>
<p><strong>Lambda 表达式的语法：</strong></p>
<p>Lambda 表达式的基本语法如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(parameters) -&gt; expression</span><br></pre></td></tr></table></figure>

<p>或者</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(parameters) -&gt; &#123; statements; &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>parameters：</strong> 参数列表，可以为空，也可以包含一个或多个参数。参数类型可以显式声明，也可以由编译器推断。</li>
<li><strong>-&gt;：</strong> Lambda 操作符，用于分隔参数列表和 Lambda 体。</li>
<li><strong>expression：</strong> 表达式，Lambda 体可以是单个表达式，也可以是代码块。</li>
<li><strong>statements：</strong> 代码块，如果 Lambda 体包含多个语句，需要用花括号 <code>&#123;&#125;</code> 包围。</li>
</ul>
<p><strong>Lambda 表达式的特点：</strong></p>
<ol>
<li><strong>匿名性：</strong> Lambda 表达式没有名称，它是一个匿名函数。</li>
<li><strong>函数式接口：</strong> Lambda 表达式只能用于实现函数式接口。</li>
<li><strong>类型推断：</strong> 编译器可以根据上下文推断 Lambda 表达式的参数类型。</li>
<li><strong>简洁性：</strong> Lambda 表达式可以用更少的代码来实现相同的功能。</li>
</ol>
<p><strong>函数式接口（Functional Interface）：</strong></p>
<p>函数式接口是指只包含一个抽象方法的接口。 Java 8 引入了 <code>@FunctionalInterface</code> 注解，用于显式声明一个接口为函数式接口。 如果一个接口被 <code>@FunctionalInterface</code> 注解标记，但实际上包含多个抽象方法，编译器会报错。</p>
<p><strong>常见的函数式接口：</strong></p>
<p>Java 8 提供了一些常用的函数式接口，位于 <code>java.util.function</code> 包中，例如：</p>
<ul>
<li><code>Predicate&lt;T&gt;</code>：接受一个参数 <code>T</code>，返回一个布尔值。</li>
<li><code>Consumer&lt;T&gt;</code>：接受一个参数 <code>T</code>，不返回任何值（<code>void</code>）。</li>
<li><code>Function&lt;T, R&gt;</code>：接受一个参数 <code>T</code>，返回一个结果 <code>R</code>。</li>
<li><code>Supplier&lt;T&gt;</code>：不接受任何参数，返回一个结果 <code>T</code>。</li>
<li><code>UnaryOperator&lt;T&gt;</code>：接受一个参数 <code>T</code>，返回一个类型为 <code>T</code> 的结果。</li>
<li><code>BinaryOperator&lt;T&gt;</code>：接受两个类型为 <code>T</code> 的参数，返回一个类型为 <code>T</code> 的结果。</li>
</ul>
<p><strong>Lambda 表达式的示例：</strong></p>
<ol>
<li><strong>无参数的 Lambda 表达式：</strong></li>
</ol>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">MyInterface</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 定义一个名为 doSomething 的抽象方法。</span></span><br><span class="line"><span class="comment">     * 任何实现 MyInterface 的类或 Lambda 表达式都需要提供此方法的具体实现。</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">doSomething</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 使用 Lambda 表达式实现 MyInterface 接口。</span></span><br><span class="line">        <span class="comment">// Lambda 表达式 () -&gt; System.out.println(&quot;Hello, Lambda!&quot;)  实现了 MyInterface 的 doSomething 方法。</span></span><br><span class="line">        <span class="comment">// () 表示没有参数， -&gt; 分隔参数列表和方法体， System.out.println(&quot;Hello, Lambda!&quot;) 是方法体，打印 &quot;Hello, Lambda!&quot; 到控制台。</span></span><br><span class="line">        <span class="type">MyInterface</span> <span class="variable">myInterface</span> <span class="operator">=</span> () -&gt; System.out.println(<span class="string">&quot;Hello, Lambda!&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 调用 myInterface 对象的 doSomething 方法。</span></span><br><span class="line">        <span class="comment">// 这将执行 Lambda 表达式中定义的代码，即打印 &quot;Hello, Lambda!&quot; 到控制台。</span></span><br><span class="line">        myInterface.doSomething(); <span class="comment">// 输出 Hello, Lambda!</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><p><strong>带一个参数的 Lambda 表达式：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">MyInterface</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">doSomething</span><span class="params">(String message)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 使用 Lambda 表达式实现 MyInterface</span></span><br><span class="line">        <span class="type">MyInterface</span> <span class="variable">myInterface</span> <span class="operator">=</span> (message) -&gt; System.out.println(<span class="string">&quot;Message: &quot;</span> + message);</span><br><span class="line">        myInterface.doSomething(<span class="string">&quot;Lambda is awesome!&quot;</span>); <span class="comment">// 输出 Message: Lambda is awesome!</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>带多个参数的 Lambda 表达式：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">MyInterface</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 使用 Lambda 表达式实现 MyInterface</span></span><br><span class="line">        <span class="type">MyInterface</span> <span class="variable">myInterface</span> <span class="operator">=</span> (a, b) -&gt; a + b;</span><br><span class="line">        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> myInterface.add(<span class="number">5</span>, <span class="number">3</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;Result: &quot;</span> + result); <span class="comment">// 输出 Result: 8</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>使用代码块的 Lambda 表达式：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">MyInterface</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">doSomething</span><span class="params">(String message)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 使用 Lambda 表达式实现 MyInterface</span></span><br><span class="line">        <span class="type">MyInterface</span> <span class="variable">myInterface</span> <span class="operator">=</span> (message) -&gt; &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Processing message...&quot;</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;Message: &quot;</span> + message);</span><br><span class="line">        &#125;;</span><br><span class="line">        myInterface.doSomething(<span class="string">&quot;Lambda is powerful!&quot;</span>);</span><br><span class="line">        <span class="comment">// 输出</span></span><br><span class="line">        <span class="comment">// Processing message...</span></span><br><span class="line">        <span class="comment">// Message: Lambda is powerful!</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>使用 <code>java.util.function</code> 包中的函数式接口：</strong></p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.function.Predicate;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 创建一个整数列表</span></span><br><span class="line">        List&lt;Integer&gt; numbers = Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 定义一个 Predicate，用于判断一个整数是否为偶数</span></span><br><span class="line">        <span class="comment">// Predicate 是一个函数式接口，接受一个参数并返回一个布尔值</span></span><br><span class="line">        Predicate&lt;Integer&gt; isEven = (number) -&gt; number % <span class="number">2</span> == <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 使用 Stream API 过滤列表中的偶数并打印</span></span><br><span class="line">        numbers.stream() <span class="comment">// 将列表转换为 Stream</span></span><br><span class="line">                .filter(isEven) <span class="comment">// 使用 Predicate 过滤 Stream 中的元素，只保留偶数</span></span><br><span class="line">                .forEach(number -&gt; System.out.println(number)); <span class="comment">// 遍历过滤后的 Stream，并打印每个元素</span></span><br><span class="line">                <span class="comment">// 输出 2 4 6</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Lambda 表达式的优点：</strong></p>
<ul>
<li><strong>代码简洁：</strong> 可以用更少的代码来实现相同的功能。</li>
<li><strong>可读性强：</strong> Lambda 表达式使代码更易于理解。</li>
<li><strong>灵活性高：</strong> 可以将 Lambda 表达式作为参数传递给方法，实现更灵活的编程。</li>
<li><strong>支持函数式编程：</strong> Lambda 表达式是 Java 支持函数式编程的基础。</li>
</ul>
<p><strong>Lambda 表达式的注意事项：</strong></p>
<ul>
<li><strong>只能用于函数式接口：</strong> Lambda 表达式只能用于实现函数式接口。</li>
<li><strong>变量捕获：</strong> Lambda 表达式可以访问外部的 <code>final</code> 或 effectively final 的局部变量。</li>
<li><strong><code>this</code> 关键字：</strong> 在 Lambda 表达式中，<code>this</code> 关键字指向的是外部类的实例，而不是 Lambda 表达式本身。</li>
</ul>
<h2 id="java的方法引用"><a href="#java的方法引用" class="headerlink" title="java的方法引用"></a>java的方法引用</h2><p>方法引用是 Java 8 引入的一个重要特性，它允许你直接引用已经存在的方法或构造器，并将其作为函数式接口的实例来使用。  这使得代码更加简洁易读，也更符合函数式编程的风格。</p>
<h3 id="基础原理"><a href="#基础原理" class="headerlink" title="基础原理"></a><strong>基础原理</strong></h3><p>方法引用本质上是 Lambda 表达式的一种简化形式。  Lambda 表达式允许你定义匿名函数，而方法引用则允许你直接引用已有的方法，避免编写冗余的 Lambda 表达式。</p>
<p>Java 中有四种方法引用：</p>
<ol>
<li><strong>静态方法引用：</strong>  <code>类名::静态方法名</code></li>
<li><strong>实例方法引用（特定对象）：</strong>  <code>对象::实例方法名</code></li>
<li><strong>实例方法引用（类型）：</strong>  <code>类名::实例方法名</code></li>
<li><strong>构造器引用：</strong>  <code>类名::new</code></li>
</ol>
<h3 id="函数式接口"><a href="#函数式接口" class="headerlink" title="函数式接口"></a><strong>函数式接口</strong></h3><p>方法引用必须与函数式接口兼容。  函数式接口是只包含一个抽象方法的接口。  Java 8 引入了 <code>@FunctionalInterface</code> 注解，用于显式声明一个接口为函数式接口。  常见的函数式接口包括 <code>Predicate</code>, <code>Consumer</code>, <code>Function</code>, <code>Supplier</code> 等。</p>
<p><strong>代码示例：静态方法引用</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.Collectors;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StaticMethodReference</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 将字符串转换为大写。</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> s 要转换的字符串</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> 转换后的大写字符串</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">toUpperCase</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> s.toUpperCase();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 创建一个包含小写名字的列表</span></span><br><span class="line">        List&lt;String&gt; names = Arrays.asList(<span class="string">&quot;alice&quot;</span>, <span class="string">&quot;bob&quot;</span>, <span class="string">&quot;charlie&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 使用 Lambda 表达式将列表中的每个名字转换为大写</span></span><br><span class="line">        <span class="comment">// .map(s -&gt; toUpperCase(s))：对流中的每个元素应用 Lambda 表达式，将每个字符串 s 转换为 toUpperCase(s) 的结果。</span></span><br><span class="line">        <span class="comment">// .collect(Collectors.toList())：将流中的元素收集到一个新的列表中。</span></span><br><span class="line">        List&lt;String&gt; upperCaseNamesLambda = names.stream()</span><br><span class="line">                .map(s -&gt; toUpperCase(s))</span><br><span class="line">                .collect(Collectors.toList());</span><br><span class="line">        System.out.println(<span class="string">&quot;Lambda: &quot;</span> + upperCaseNamesLambda);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 使用静态方法引用将列表中的每个名字转换为大写</span></span><br><span class="line">        <span class="comment">// StaticMethodReference::toUpperCase：这是一个静态方法引用，它引用了 StaticMethodReference 类的 toUpperCase 方法。</span></span><br><span class="line">        <span class="comment">//  它等价于 Lambda 表达式 s -&gt; StaticMethodReference.toUpperCase(s)。</span></span><br><span class="line">        List&lt;String&gt; upperCaseNamesMethodReference = names.stream()</span><br><span class="line">                .map(StaticMethodReference::toUpperCase)</span><br><span class="line">                .collect(Collectors.toList());</span><br><span class="line">        System.out.println(<span class="string">&quot;Method Reference: &quot;</span> + upperCaseNamesMethodReference);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这个例子中，<code>StaticMethodReference::toUpperCase</code>  引用了 <code>StaticMethodReference</code> 类的静态方法 <code>toUpperCase</code>。  <code>map</code> 方法接受一个 <code>Function</code> 函数式接口，该接口的 <code>apply</code> 方法接受一个 <code>String</code> 参数并返回一个 <code>String</code> 结果，这与 <code>toUpperCase</code> 方法的签名相匹配。</p>
<p><strong>代码示例：实例方法引用（特定对象）</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.Collectors;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InstanceMethodReferenceObject</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toUpperCase</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.toString().toUpperCase();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">InstanceMethodReferenceObject</span> <span class="variable">instance</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">InstanceMethodReferenceObject</span>();</span><br><span class="line">        List&lt;InstanceMethodReferenceObject&gt; instances = Arrays.asList(<span class="keyword">new</span> <span class="title class_">InstanceMethodReferenceObject</span>(), <span class="keyword">new</span> <span class="title class_">InstanceMethodReferenceObject</span>());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 使用 Lambda 表达式</span></span><br><span class="line">        List&lt;String&gt; upperCaseNamesLambda = instances.stream()</span><br><span class="line">                .map(i -&gt; instance.toUpperCase())</span><br><span class="line">                .collect(Collectors.toList());</span><br><span class="line">        System.out.println(<span class="string">&quot;Lambda: &quot;</span> + upperCaseNamesLambda);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 使用实例方法引用 (特定对象)</span></span><br><span class="line">        List&lt;String&gt; upperCaseNamesMethodReference = instances.stream()</span><br><span class="line">                .map(instance::toUpperCase)</span><br><span class="line">                .collect(Collectors.toList());</span><br><span class="line">        System.out.println(<span class="string">&quot;Method Reference: &quot;</span> + upperCaseNamesMethodReference);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这里，<code>instance::toUpperCase</code>  引用了 <code>instance</code> 对象的 <code>toUpperCase</code> 实例方法。  <code>map</code> 方法仍然接受一个 <code>Function</code>，但这次 <code>apply</code> 方法的实现是调用 <code>instance</code> 对象的 <code>toUpperCase</code> 方法。</p>
<p><strong>代码示例：实例方法引用（类型）</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.Collectors;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InstanceMethodReferenceType</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toUpperCase</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.toString().toUpperCase();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        List&lt;InstanceMethodReferenceType&gt; instances = Arrays.asList(<span class="keyword">new</span> <span class="title class_">InstanceMethodReferenceType</span>(), <span class="keyword">new</span> <span class="title class_">InstanceMethodReferenceType</span>());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 使用 Lambda 表达式</span></span><br><span class="line">        List&lt;String&gt; upperCaseNamesLambda = instances.stream()</span><br><span class="line">                .map(i -&gt; i.toUpperCase())</span><br><span class="line">                .collect(Collectors.toList());</span><br><span class="line">        System.out.println(<span class="string">&quot;Lambda: &quot;</span> + upperCaseNamesLambda);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 使用实例方法引用 (类型)</span></span><br><span class="line">        List&lt;String&gt; upperCaseNamesMethodReference = instances.stream()</span><br><span class="line">                .map(InstanceMethodReferenceType::toUpperCase)</span><br><span class="line">                .collect(Collectors.toList());</span><br><span class="line">        System.out.println(<span class="string">&quot;Method Reference: &quot;</span> + upperCaseNamesMethodReference);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这个例子中，<code>InstanceMethodReferenceType::toUpperCase</code>  引用了 <code>InstanceMethodReferenceType</code> 类的 <code>toUpperCase</code> 实例方法。  <code>map</code> 方法接受一个 <code>Function</code>，该接口的 <code>apply</code> 方法接受一个 <code>InstanceMethodReferenceType</code> 对象作为参数，并调用该对象的 <code>toUpperCase</code> 方法。  这种方法引用适用于当你需要对流中的每个对象调用相同的方法时。</p>
<p><strong>代码示例：构造器引用</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.Collectors;</span><br><span class="line"><span class="keyword">import</span> java.util.function.Supplier;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ConstructorReference</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 无参构造器</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ConstructorReference</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = <span class="string">&quot;Default Name&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 带参数的构造器</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ConstructorReference</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取 name 属性的方法</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 使用 Lambda 表达式创建 ConstructorReference 对象 (无参构造器)</span></span><br><span class="line">        Supplier&lt;ConstructorReference&gt; constructorLambda = () -&gt; <span class="keyword">new</span> <span class="title class_">ConstructorReference</span>();</span><br><span class="line">        <span class="type">ConstructorReference</span> <span class="variable">instanceLambda</span> <span class="operator">=</span> constructorLambda.get(); <span class="comment">// 调用 get() 方法创建对象</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Lambda: &quot;</span> + instanceLambda.getName());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 使用构造器引用创建 ConstructorReference 对象 (无参构造器)</span></span><br><span class="line">        <span class="comment">// ConstructorReference::new 等价于 () -&gt; new ConstructorReference()</span></span><br><span class="line">        Supplier&lt;ConstructorReference&gt; constructorReference = ConstructorReference::<span class="keyword">new</span>;</span><br><span class="line">        <span class="type">ConstructorReference</span> <span class="variable">instanceReference</span> <span class="operator">=</span> constructorReference.get(); <span class="comment">// 调用 get() 方法创建对象</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Method Reference (no args): &quot;</span> + instanceReference.getName());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 使用 Lambda 表达式创建 ConstructorReference 对象列表 (带参数的构造器)</span></span><br><span class="line">        List&lt;String&gt; names = Arrays.asList(<span class="string">&quot;Alice&quot;</span>, <span class="string">&quot;Bob&quot;</span>, <span class="string">&quot;Charlie&quot;</span>);</span><br><span class="line">        List&lt;ConstructorReference&gt; instancesLambda = names.stream()</span><br><span class="line">                .map(name -&gt; <span class="keyword">new</span> <span class="title class_">ConstructorReference</span>(name)) <span class="comment">// 对每个 name 创建一个 ConstructorReference 对象</span></span><br><span class="line">                .collect(Collectors.toList()); <span class="comment">// 将创建的对象收集到 List 中</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Lambda (with args): &quot;</span> + instancesLambda.stream().map(ConstructorReference::getName).collect(Collectors.toList()));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 使用构造器引用创建 ConstructorReference 对象列表 (带参数的构造器)</span></span><br><span class="line">        <span class="comment">// ConstructorReference::new 等价于 name -&gt; new ConstructorReference(name)</span></span><br><span class="line">        List&lt;ConstructorReference&gt; instancesReference = names.stream()</span><br><span class="line">                .map(ConstructorReference::<span class="keyword">new</span>) <span class="comment">// 对每个 name 创建一个 ConstructorReference 对象</span></span><br><span class="line">                .collect(Collectors.toList()); <span class="comment">// 将创建的对象收集到 List 中</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Method Reference (with args): &quot;</span> + instancesReference.stream().map(ConstructorReference::getName).collect(Collectors.toList()));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>ConstructorReference::new</code>  引用了 <code>ConstructorReference</code> 类的构造器。  <code>Supplier&lt;ConstructorReference&gt;</code> 函数式接口的 <code>get</code> 方法返回一个新的 <code>ConstructorReference</code> 对象。  如果构造器有参数，<code>map</code> 方法会根据参数类型选择合适的构造器。</p>
<p><strong>进阶知识</strong></p>
<ul>
<li><p><strong>方法引用与泛型：</strong>  方法引用可以与泛型一起使用，以创建更灵活的代码。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.function.Function;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.Collectors;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GenericMethodReference</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; String <span class="title function_">convertToString</span><span class="params">(T obj)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> obj.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; numbers = Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 使用泛型方法引用</span></span><br><span class="line">        List&lt;String&gt; stringNumbers = numbers.stream()</span><br><span class="line">                .map(GenericMethodReference::&lt;Integer&gt;convertToString) <span class="comment">// 显式指定类型参数</span></span><br><span class="line">                .collect(Collectors.toList());</span><br><span class="line"></span><br><span class="line">        System.out.println(stringNumbers); <span class="comment">// 输出: [1, 2, 3]</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>方法引用与继承：</strong>  方法引用可以引用父类的方法，只要该方法对子类可见。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">makeSound</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Generic animal sound&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">makeSound</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Woof!&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InheritanceMethodReference</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        List&lt;Dog&gt; dogs = Arrays.asList(<span class="keyword">new</span> <span class="title class_">Dog</span>(), <span class="keyword">new</span> <span class="title class_">Dog</span>());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 引用父类方法 (如果子类没有重写)</span></span><br><span class="line">        List&lt;String&gt; sounds = dogs.stream()</span><br><span class="line">                .map(Animal::makeSound) <span class="comment">// 即使是Dog对象，也可以通过Animal引用</span></span><br><span class="line">                .collect(Collectors.toList());</span><br><span class="line"></span><br><span class="line">        System.out.println(sounds); <span class="comment">// 输出: [Woof!, Woof!]</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>方法引用与接口：</strong>  方法引用可以引用接口的默认方法和静态方法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">MyInterface</span> &#123;</span><br><span class="line">    <span class="keyword">default</span> String <span class="title function_">getDefaultMessage</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Default message from interface&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> String <span class="title function_">getStaticMessage</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Static message from interface&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyClass</span> <span class="keyword">implements</span> <span class="title class_">MyInterface</span> &#123;</span><br><span class="line">    <span class="comment">// 可以选择性地重写接口的默认方法</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InterfaceMethodReference</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">MyClass</span> <span class="variable">myObject</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyClass</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 引用接口的默认方法</span></span><br><span class="line">        Supplier&lt;String&gt; defaultMessageSupplier = myObject::getDefaultMessage;</span><br><span class="line">        System.out.println(defaultMessageSupplier.get()); <span class="comment">// 输出: Default message from interface</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 引用接口的静态方法</span></span><br><span class="line">        Supplier&lt;String&gt; staticMessageSupplier = MyInterface::getStaticMessage;</span><br><span class="line">        System.out.println(staticMessageSupplier.get()); <span class="comment">// 输出: Static message from interface</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>实际案例</strong></p>
<ol>
<li><p><strong>排序：</strong>  可以使用方法引用来简化集合的排序操作。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Person&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SortingExample</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        List&lt;Person&gt; people = Arrays.asList(</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Alice&quot;</span>, <span class="number">30</span>),</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Bob&quot;</span>, <span class="number">25</span>),</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Charlie&quot;</span>, <span class="number">35</span>)</span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 使用 Lambda 表达式排序</span></span><br><span class="line">        people.sort((p1, p2) -&gt; p1.getName().compareTo(p2.getName()));</span><br><span class="line">        System.out.println(<span class="string">&quot;Sorted by name (Lambda): &quot;</span> + people);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 使用方法引用排序</span></span><br><span class="line">        people.sort(Comparator.comparing(Person::getName));</span><br><span class="line">        System.out.println(<span class="string">&quot;Sorted by name (Method Reference): &quot;</span> + people);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 使用方法引用和 reversed() 排序</span></span><br><span class="line">        people.sort(Comparator.comparing(Person::getAge).reversed());</span><br><span class="line">        System.out.println(<span class="string">&quot;Sorted by age (Method Reference, reversed): &quot;</span> + people);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>事件处理：</strong>  在 GUI 编程中，可以使用方法引用来简化事件处理器的注册。  (虽然现在GUI开发更多使用框架，但原理相同)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 假设有一个按钮类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Button</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> ClickHandler clickHandler;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setClickHandler</span><span class="params">(ClickHandler clickHandler)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.clickHandler = clickHandler;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">click</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (clickHandler != <span class="literal">null</span>) &#123;</span><br><span class="line">            clickHandler.onClick();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义一个函数式接口</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">ClickHandler</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">onClick</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EventHandlingExample</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">handleButtonClick</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Button clicked!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Button</span> <span class="variable">button</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Button</span>();</span><br><span class="line">        <span class="type">EventHandlingExample</span> <span class="variable">eventHandler</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">EventHandlingExample</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 使用 Lambda 表达式</span></span><br><span class="line">        button.setClickHandler(() -&gt; eventHandler.handleButtonClick());</span><br><span class="line">        button.click();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 使用方法引用</span></span><br><span class="line">        button.setClickHandler(eventHandler::handleButtonClick);</span><br><span class="line">        button.click();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>日志记录：</strong>  可以使用方法引用来简化日志记录器的使用。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.logging.Logger;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoggingExample</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Logger</span> <span class="variable">logger</span> <span class="operator">=</span> Logger.getLogger(LoggingExample.class.getName());</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">logMessage</span><span class="params">(String message)</span> &#123;</span><br><span class="line">        logger.info(message);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">LoggingExample</span> <span class="variable">loggingExample</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">LoggingExample</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 使用 Lambda 表达式</span></span><br><span class="line">        <span class="type">Runnable</span> <span class="variable">logTaskLambda</span> <span class="operator">=</span> () -&gt; loggingExample.logMessage(<span class="string">&quot;This is a log message (Lambda).&quot;</span>);</span><br><span class="line">        logTaskLambda.run();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 使用方法引用</span></span><br><span class="line">        <span class="type">Runnable</span> <span class="variable">logTaskReference</span> <span class="operator">=</span> loggingExample::logMessage;</span><br><span class="line">        logTaskReference.run();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>数据验证：</strong>  可以使用方法引用来简化数据验证逻辑。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.function.Predicate;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.Collectors;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ValidationExample</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">isPositive</span><span class="params">(<span class="type">int</span> number)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> number &gt; <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; numbers = Arrays.asList(-<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 使用 Lambda 表达式</span></span><br><span class="line">        List&lt;Integer&gt; positiveNumbersLambda = numbers.stream()</span><br><span class="line">                .filter(n -&gt; isPositive(n))</span><br><span class="line">                .collect(Collectors.toList());</span><br><span class="line">        System.out.println(<span class="string">&quot;Positive numbers (Lambda): &quot;</span> + positiveNumbersLambda);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 使用方法引用</span></span><br><span class="line">        List&lt;Integer&gt; positiveNumbersReference = numbers.stream()</span><br><span class="line">                .filter(ValidationExample::isPositive)</span><br><span class="line">                .collect(Collectors.toList());</span><br><span class="line">        System.out.println(<span class="string">&quot;Positive numbers (Method Reference): &quot;</span> + positiveNumbersReference);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="Java常用API"><a href="#Java常用API" class="headerlink" title="Java常用API"></a>Java常用API</h2><h3 id="一、基础原理：API的概念与作用"><a href="#一、基础原理：API的概念与作用" class="headerlink" title="一、基础原理：API的概念与作用"></a><strong>一、基础原理：API的概念与作用</strong></h3><p>API (Application Programming Interface)，即应用程序编程接口，是一组预定义的函数、类、协议和工具，允许软件应用程序之间进行交互。在Java中，API通常以类库的形式提供，开发者可以通过调用这些类库中的方法，来实现各种功能，而无需从头编写代码。</p>
<p>API的作用：</p>
<ul>
<li><strong>代码重用：</strong> 避免重复编写相同功能的代码，提高开发效率。</li>
<li><strong>简化开发：</strong> 封装复杂的操作，提供简单易用的接口。</li>
<li><strong>标准化：</strong> 提供统一的接口，方便不同应用程序之间的集成。</li>
<li><strong>抽象：</strong> 隐藏底层实现细节，使开发者专注于业务逻辑。</li>
</ul>
<h3 id="二、常用API分类与详解"><a href="#二、常用API分类与详解" class="headerlink" title="二、常用API分类与详解"></a><strong>二、常用API分类与详解</strong></h3><p>Java API非常庞大，涵盖了各种领域。以下是一些常用的API分类及其详解：</p>
<h4 id="1-Java核心类库-java-lang-java-util-java-io-java-net-java-text-java-math"><a href="#1-Java核心类库-java-lang-java-util-java-io-java-net-java-text-java-math" class="headerlink" title="1.  Java核心类库 (java.lang, java.util, java.io, java.net, java.text, java.math)"></a>1.  <strong>Java核心类库 (java.lang, java.util, java.io, java.net, java.text, java.math)</strong></h4><pre><code>*   **java.lang:**  Java语言的基础类库，包含Object、String、Math、Thread等核心类。
</code></pre>
<p>使用””创建字符串对象，放在常量池中<br><img src="https://i.imgur.com/tAyOA6B.png"><br>使用字符串创建对象，或者其他的放在常量池中。</p>
<h5 id="基本操作"><a href="#基本操作" class="headerlink" title="基本操作"></a><strong>基本操作</strong></h5><ul>
<li><p><strong><code>length()</code></strong>: 返回字符串的长度（字符数）。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> str.length(); <span class="comment">// len = 5</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong><code>charAt(int index)</code></strong>: 返回指定索引位置的字符。索引从 0 开始。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line"><span class="type">char</span> <span class="variable">ch</span> <span class="operator">=</span> str.charAt(<span class="number">0</span>); <span class="comment">// ch = &#x27;H&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong><code>substring(int beginIndex)</code></strong>: 返回从指定索引开始到字符串末尾的子字符串。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">sub</span> <span class="operator">=</span> str.substring(<span class="number">2</span>); <span class="comment">// sub = &quot;llo&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong><code>substring(int beginIndex, int endIndex)</code></strong>: 返回从 <code>beginIndex</code>（包含）到 <code>endIndex</code>（不包含）的子字符串。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">sub</span> <span class="operator">=</span> str.substring(<span class="number">1</span>, <span class="number">4</span>); <span class="comment">// sub = &quot;ell&quot;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>比较</strong></p>
<ul>
<li><p><strong><code>equals(Object obj)</code></strong>: 比较字符串的内容是否相等（区分大小写）。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">str2</span> <span class="operator">=</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line"><span class="type">boolean</span> <span class="variable">isEqual</span> <span class="operator">=</span> str1.equals(str2); <span class="comment">// isEqual = false</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong><code>equalsIgnoreCase(String anotherString)</code></strong>: 比较字符串的内容是否相等（忽略大小写）。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">str2</span> <span class="operator">=</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line"><span class="type">boolean</span> <span class="variable">isEqual</span> <span class="operator">=</span> str1.equalsIgnoreCase(str2); <span class="comment">// isEqual = true</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong><code>compareTo(String anotherString)</code></strong>: 按照字典顺序比较字符串。返回一个整数，如果小于 0，则表示当前字符串小于 <code>anotherString</code>；如果等于 0，则表示相等；如果大于 0，则表示大于 <code>anotherString</code>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> <span class="string">&quot;apple&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">str2</span> <span class="operator">=</span> <span class="string">&quot;banana&quot;</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> str1.compareTo(str2); <span class="comment">// result &lt; 0</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>查找</strong></p>
<ul>
<li><p><strong><code>indexOf(int ch)</code></strong>: 返回指定字符在字符串中第一次出现的索引。如果未找到，则返回 -1。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> str.indexOf(<span class="string">&#x27;l&#x27;</span>); <span class="comment">// index = 2</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong><code>indexOf(String str)</code></strong>: 返回指定子字符串在字符串中第一次出现的索引。如果未找到，则返回 -1。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;Hello world&quot;</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> str.indexOf(<span class="string">&quot;world&quot;</span>); <span class="comment">// index = 6</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong><code>lastIndexOf(int ch)</code></strong>: 返回指定字符在字符串中最后一次出现的索引。如果未找到，则返回 -1。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> str.lastIndexOf(<span class="string">&#x27;l&#x27;</span>); <span class="comment">// index = 3</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong><code>lastIndexOf(String str)</code></strong>: 返回指定子字符串在字符串中最后一次出现的索引。如果未找到，则返回 -1。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;Hello world world&quot;</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> str.lastIndexOf(<span class="string">&quot;world&quot;</span>); <span class="comment">// index = 12</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>转换</strong></p>
<ul>
<li><p><strong><code>toLowerCase()</code></strong>: 将字符串转换为小写。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">lower</span> <span class="operator">=</span> str.toLowerCase(); <span class="comment">// lower = &quot;hello&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong><code>toUpperCase()</code></strong>: 将字符串转换为大写。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">upper</span> <span class="operator">=</span> str.toUpperCase(); <span class="comment">// upper = &quot;HELLO&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong><code>trim()</code></strong>: 去除字符串开头和结尾的空格。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;  Hello  &quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">trimmed</span> <span class="operator">=</span> str.trim(); <span class="comment">// trimmed = &quot;Hello&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong><code>replace(char oldChar, char newChar)</code></strong>: 将字符串中所有出现的 <code>oldChar</code> 替换为 <code>newChar</code>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">replaced</span> <span class="operator">=</span> str.replace(<span class="string">&#x27;l&#x27;</span>, <span class="string">&#x27;p&#x27;</span>); <span class="comment">// replaced = &quot;Heppo&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong><code>replace(CharSequence target, CharSequence replacement)</code></strong>: 将字符串中所有出现的 <code>target</code> 替换为 <code>replacement</code>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;Hello world&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">replaced</span> <span class="operator">=</span> str.replace(<span class="string">&quot;world&quot;</span>, <span class="string">&quot;Java&quot;</span>); <span class="comment">// replaced = &quot;Hello Java&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong><code>split(String regex)</code></strong>: 根据给定的正则表达式将字符串分割成字符串数组。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;apple,banana,orange&quot;</span>;</span><br><span class="line">String[] parts = str.split(<span class="string">&quot;,&quot;</span>); <span class="comment">// parts = &#123;&quot;apple&quot;, &quot;banana&quot;, &quot;orange&quot;&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong><code>toCharArray()</code></strong>: 将字符串转换为字符数组。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line"><span class="type">char</span>[] chars = str.toCharArray(); <span class="comment">// chars = &#123;&#x27;H&#x27;, &#x27;e&#x27;, &#x27;l&#x27;, &#x27;l&#x27;, &#x27;o&#x27;&#125;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>其他</strong></p>
<ul>
<li><p><strong><code>startsWith(String prefix)</code></strong>: 检查字符串是否以指定的前缀开始。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line"><span class="type">boolean</span> <span class="variable">startsWithHello</span> <span class="operator">=</span> str.startsWith(<span class="string">&quot;Hel&quot;</span>); <span class="comment">// startsWithHello = true</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong><code>endsWith(String suffix)</code></strong>: 检查字符串是否以指定的后缀结束。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line"><span class="type">boolean</span> <span class="variable">endsWithHello</span> <span class="operator">=</span> str.endsWith(<span class="string">&quot;llo&quot;</span>); <span class="comment">// endsWithHello = true</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong><code>contains(CharSequence s)</code></strong>: 检查字符串是否包含指定的字符序列。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;Hello world&quot;</span>;</span><br><span class="line"><span class="type">boolean</span> <span class="variable">containsWorld</span> <span class="operator">=</span> str.contains(<span class="string">&quot;world&quot;</span>); <span class="comment">// containsWorld = true</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong><code>isEmpty()</code></strong>: 检查字符串是否为空（长度为 0）。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="type">boolean</span> <span class="variable">isEmpty</span> <span class="operator">=</span> str.isEmpty(); <span class="comment">// isEmpty = true</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong><code>valueOf(各种类型)</code></strong>:  这是一个静态方法，可以将各种数据类型转换为字符串。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">123</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> String.valueOf(num); <span class="comment">// str = &quot;123&quot;</span></span><br></pre></td></tr></table></figure>



<ul>
<li><strong>Object:</strong> 所有类的父类，提供equals()、hashCode()、toString()等通用方法。<ul>
<li><strong>String:</strong> 字符串类，提供字符串操作方法，如substring()、indexOf()、replace()等。</li>
<li><strong>Math:</strong> 数学类，提供数学运算方法，如abs()、sqrt()、sin()、cos()等。</li>
<li><strong>Thread:</strong> 线程类，用于创建和管理线程。</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// String示例</span><br><span class="line">String str = &quot;Hello World&quot;;</span><br><span class="line">System.out.println(str.substring(0, 5)); // 输出 Hello</span><br><span class="line">System.out.println(str.indexOf(&quot;World&quot;)); // 输出 6</span><br><span class="line"></span><br><span class="line">// Math示例</span><br><span class="line">System.out.println(Math.abs(-10)); // 输出 10</span><br><span class="line">System.out.println(Math.sqrt(9));  // 输出 3.0</span><br></pre></td></tr></table></figure>

<ul>
<li><p><strong>java.util:</strong>  包含集合框架、日期时间、随机数等工具类。</p>
</li>
<li><p><strong>List, Set, Map:</strong> 集合框架接口，提供存储和操作数据的容器。<br>*   <strong>ArrayList, LinkedList, HashSet, HashMap:</strong> 集合框架的常用实现类。<br>*   <strong>Date, Calendar:</strong> 日期时间类，用于处理日期和时间。<br>*   <strong>Random:</strong> 随机数生成器。<br>[[集合]]</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ArrayList示例</span></span><br><span class="line">List&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">list.add(<span class="string">&quot;Apple&quot;</span>);</span><br><span class="line">list.add(<span class="string">&quot;Banana&quot;</span>);</span><br><span class="line">System.out.println(list.get(<span class="number">0</span>)); <span class="comment">// 输出 Apple</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// HashMap示例</span></span><br><span class="line">Map&lt;String, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">map.put(<span class="string">&quot;Apple&quot;</span>, <span class="number">1</span>);</span><br><span class="line">map.put(<span class="string">&quot;Banana&quot;</span>, <span class="number">2</span>);</span><br><span class="line">System.out.println(map.get(<span class="string">&quot;Apple&quot;</span>)); <span class="comment">// 输出 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//Date示例</span></span><br><span class="line"><span class="type">Date</span> <span class="variable">now</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">System.out.println(now);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>java.io:</strong>  输入输出类库，用于读写文件、网络数据等。</p>
<ul>
<li><strong>InputStream, OutputStream:</strong> 字节输入输出流的抽象类。<ul>
<li><strong>Reader, Writer:</strong> 字符输入输出流的抽象类。</li>
<li><strong>FileInputStream, FileOutputStream:</strong> 文件字节输入输出流。</li>
<li><strong>FileReader, FileWriter:</strong> 文件字符输入输出流。</li>
<li><strong>BufferedReader, BufferedWriter:</strong> 带缓冲的字符输入输出流。</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">```java</span><br><span class="line"> // 文件读取示例</span><br><span class="line"> try (BufferedReader reader = new BufferedReader(new FileReader(&quot;test.txt&quot;))) &#123;</span><br><span class="line">     String line;</span><br><span class="line">     while ((line = reader.readLine()) != null) &#123;</span><br><span class="line">         System.out.println(line);</span><br><span class="line">     &#125;</span><br><span class="line"> &#125; catch (IOException e) &#123;</span><br><span class="line">     e.printStackTrace();</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> // 文件写入示例</span><br><span class="line"> try (BufferedWriter writer = new BufferedWriter(new FileWriter(&quot;output.txt&quot;))) &#123;</span><br><span class="line">     writer.write(&quot;Hello, World!&quot;);</span><br><span class="line"> &#125; catch (IOException e) &#123;</span><br><span class="line">     e.printStackTrace();</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">*   **java.net:**  网络编程类库，用于创建网络连接、发送数据等。</span><br><span class="line"></span><br><span class="line">        *   **Socket:** 套接字类，用于建立客户端连接。</span><br><span class="line">        *   **ServerSocket:** 服务器套接字类，用于监听客户端连接。</span><br><span class="line">        *   **URL:** 统一资源定位符类，用于表示网络资源。</span><br><span class="line"></span><br><span class="line">        ```java</span><br><span class="line">        // 客户端示例</span><br><span class="line">        try (Socket socket = new Socket(&quot;localhost&quot;, 8080);</span><br><span class="line">             PrintWriter out = new PrintWriter(socket.getOutputStream(), true);</span><br><span class="line">             BufferedReader in = new BufferedReader(new InputStreamReader(socket.getInputStream()))) &#123;</span><br><span class="line"></span><br><span class="line">            out.println(&quot;Hello Server!&quot;);</span><br><span class="line">            String response = in.readLine();</span><br><span class="line">            System.out.println(&quot;Server response: &quot; + response);</span><br><span class="line"></span><br><span class="line">        &#125; catch (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        //服务端示例</span><br><span class="line">        try (ServerSocket serverSocket = new ServerSocket(8080);</span><br><span class="line">             Socket clientSocket = serverSocket.accept();</span><br><span class="line">             PrintWriter out = new PrintWriter(clientSocket.getOutputStream(), true);</span><br><span class="line">             BufferedReader in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()))) &#123;</span><br><span class="line"></span><br><span class="line">            String inputLine;</span><br><span class="line">            while ((inputLine = in.readLine()) != null) &#123;</span><br><span class="line">                System.out.println(&quot;Client says: &quot; + inputLine);</span><br><span class="line">                out.println(&quot;Echo: &quot; + inputLine);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; catch (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<pre><code>*   **java.text:**  文本处理类库，用于格式化日期、数字等。

    *   **DateFormat, SimpleDateFormat:** 日期格式化类。
    *   **NumberFormat:** 数字格式化类。

    <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 日期格式化示例</span></span><br><span class="line"><span class="type">SimpleDateFormat</span> <span class="variable">sdf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>);</span><br><span class="line"><span class="type">Date</span> <span class="variable">date</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line"><span class="type">String</span> <span class="variable">formattedDate</span> <span class="operator">=</span> sdf.format(date);</span><br><span class="line">System.out.println(formattedDate); <span class="comment">// 输出类似 2023-10-27 10:00:00</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">// 数字格式化示例</span></span><br><span class="line"><span class="type">NumberFormat</span> <span class="variable">nf</span> <span class="operator">=</span> NumberFormat.getNumberInstance();</span><br><span class="line">nf.setMaximumFractionDigits(<span class="number">2</span>); <span class="comment">// 设置小数位数</span></span><br><span class="line"><span class="type">String</span> <span class="variable">formattedNumber</span> <span class="operator">=</span> nf.format(<span class="number">1234.567</span>);</span><br><span class="line">System.out.println(formattedNumber); <span class="comment">// 输出 1,234.57 (根据本地化设置)</span></span><br></pre></td></tr></table></figure>

*   **java.math:**  数学计算类库，提供高精度计算。

    *   **BigDecimal:** 高精度浮点数类。
    *   **BigInteger:** 高精度整数类。

    <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// BigDecimal示例</span></span><br><span class="line"><span class="type">BigDecimal</span> <span class="variable">num1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigDecimal</span>(<span class="string">&quot;1.0&quot;</span>);</span><br><span class="line"><span class="type">BigDecimal</span> <span class="variable">num2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigDecimal</span>(<span class="string">&quot;0.9&quot;</span>);</span><br><span class="line"><span class="type">BigDecimal</span> <span class="variable">result</span> <span class="operator">=</span> num1.subtract(num2);</span><br><span class="line">System.out.println(result); <span class="comment">// 输出 0.1</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">// BigInteger示例</span></span><br><span class="line"><span class="type">BigInteger</span> <span class="variable">factorial</span> <span class="operator">=</span> BigInteger.ONE;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">20</span>; i++) &#123;</span><br><span class="line">    factorial = factorial.multiply(BigInteger.valueOf(i));</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(factorial); <span class="comment">// 输出 2432902008176640000</span></span><br></pre></td></tr></table></figure>
</code></pre>
<ol start="2">
<li><p><strong>Java Swing&#x2F;JavaFX (javax.swing, javafx.*):</strong>  图形用户界面 (GUI) 类库。</p>
<ul>
<li><strong>JFrame, JPanel, JButton, JLabel, JTextField:</strong> Swing的常用组件。</li>
<li><strong>Scene, Stage, Button, Label, TextField:</strong> JavaFX的常用组件。</li>
</ul>
<p>(GUI编程较为复杂，此处仅作简单提及，不提供详细代码示例)</p>
</li>
<li><p><strong>Java Database Connectivity (JDBC) (java.sql):</strong>  数据库连接类库。</p>
<ul>
<li><strong>DriverManager:</strong> 驱动管理器，用于加载数据库驱动。</li>
<li><strong>Connection:</strong> 数据库连接接口。</li>
<li><strong>Statement, PreparedStatement:</strong> SQL语句执行接口。</li>
<li><strong>ResultSet:</strong> 查询结果集接口。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// JDBC示例 (需要数据库驱动)</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// 1. 加载驱动</span></span><br><span class="line">    Class.forName(<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>); <span class="comment">// MySQL驱动</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2. 获取连接</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> <span class="string">&quot;jdbc:mysql://localhost:3306/mydatabase&quot;</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">user</span> <span class="operator">=</span> <span class="string">&quot;username&quot;</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> <span class="string">&quot;password&quot;</span>;</span><br><span class="line">    <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> DriverManager.getConnection(url, user, password);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3. 创建Statement</span></span><br><span class="line">    <span class="type">Statement</span> <span class="variable">statement</span> <span class="operator">=</span> connection.createStatement();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4. 执行查询</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;SELECT * FROM users&quot;</span>;</span><br><span class="line">    <span class="type">ResultSet</span> <span class="variable">resultSet</span> <span class="operator">=</span> statement.executeQuery(sql);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 5. 处理结果</span></span><br><span class="line">    <span class="keyword">while</span> (resultSet.next()) &#123;</span><br><span class="line">        System.out.println(resultSet.getString(<span class="string">&quot;name&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 6. 关闭连接</span></span><br><span class="line">    resultSet.close();</span><br><span class="line">    statement.close();</span><br><span class="line">    connection.close();</span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">catch</span> (ClassNotFoundException | SQLException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Java XML Processing (javax.xml.*):</strong>  XML处理类库。</p>
<ul>
<li><strong>DocumentBuilder, DocumentBuilderFactory:</strong> 用于解析XML文档。</li>
<li><strong>XPath:</strong> 用于查询XML文档。</li>
</ul>
<p>(XML处理较为复杂，此处仅作简单提及，不提供详细代码示例)</p>
</li>
<li><p><strong>Java Collections Framework (java.util.collections):</strong> 集合框架的工具类，提供排序、查找等算法。</p>
<ul>
<li><strong>Collections.sort():</strong> 对List进行排序。</li>
<li><strong>Collections.binarySearch():</strong> 在List中进行二分查找。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Collections示例</span></span><br><span class="line">List&lt;Integer&gt; numbers = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">numbers.add(<span class="number">5</span>);</span><br><span class="line">numbers.add(<span class="number">2</span>);</span><br><span class="line">numbers.add(<span class="number">8</span>);</span><br><span class="line"></span><br><span class="line">Collections.sort(numbers); <span class="comment">// 排序</span></span><br><span class="line">System.out.println(numbers); <span class="comment">// 输出 [2, 5, 8]</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> Collections.binarySearch(numbers, <span class="number">5</span>); <span class="comment">// 二分查找</span></span><br><span class="line">System.out.println(index); <span class="comment">// 输出 1</span></span><br></pre></td></tr></table></figure></li>
</ol>
<p><strong>三、进阶知识：API设计原则与最佳实践</strong></p>
<ol>
<li><strong>单一职责原则 (SRP):</strong>  每个类或接口应该只有一个明确的职责。</li>
<li><strong>开闭原则 (OCP):</strong>  软件实体应该对扩展开放，对修改关闭。</li>
<li><strong>里氏替换原则 (LSP):</strong>  子类应该能够替换其父类，而不会导致程序出错。</li>
<li><strong>接口隔离原则 (ISP):</strong>  客户端不应该被迫依赖于它不需要的接口。</li>
<li><strong>依赖倒置原则 (DIP):</strong>  高层模块不应该依赖于低层模块，两者都应该依赖于抽象。抽象不应该依赖于细节，细节应该依赖于抽象。</li>
</ol>
<p><strong>API设计最佳实践：</strong></p>
<ul>
<li><strong>清晰的命名：</strong> 使用有意义的名称，避免歧义。</li>
<li><strong>简洁的接口：</strong> 接口应该尽可能简单，避免过度设计。</li>
<li><strong>良好的文档：</strong> 提供清晰、完整的文档，方便开发者使用。</li>
<li><strong>版本控制：</strong> 使用版本号管理API，方便维护和升级。</li>
<li><strong>异常处理：</strong> 合理处理异常，提供友好的错误信息。</li>
<li><strong>线程安全：</strong> 考虑多线程环境下的安全性。</li>
</ul>
<p><strong>四、实际案例：使用API构建简单应用</strong></p>
<p><strong>案例：构建一个简单的命令行计算器</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Calculator</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;Simple Calculator&quot;</span>);</span><br><span class="line">        System.out.print(<span class="string">&quot;Enter first number: &quot;</span>);</span><br><span class="line">        <span class="type">double</span> <span class="variable">num1</span> <span class="operator">=</span> scanner.nextDouble();</span><br><span class="line"></span><br><span class="line">        System.out.print(<span class="string">&quot;Enter operator (+, -, *, /): &quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">operator</span> <span class="operator">=</span> scanner.next();</span><br><span class="line"></span><br><span class="line">        System.out.print(<span class="string">&quot;Enter second number: &quot;</span>);</span><br><span class="line">        <span class="type">double</span> <span class="variable">num2</span> <span class="operator">=</span> scanner.nextDouble();</span><br><span class="line"></span><br><span class="line">        <span class="type">double</span> <span class="variable">result</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">switch</span> (operator) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;+&quot;</span>:</span><br><span class="line">                result = num1 + num2;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;-&quot;</span>:</span><br><span class="line">                result = num1 - num2;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;*&quot;</span>:</span><br><span class="line">                result = num1 * num2;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;/&quot;</span>:</span><br><span class="line">                <span class="keyword">if</span> (num2 == <span class="number">0</span>) &#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;Error: Division by zero!&quot;</span>);</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                result = num1 / num2;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                System.out.println(<span class="string">&quot;Error: Invalid operator!&quot;</span>);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;Result: &quot;</span> + result);</span><br><span class="line">        scanner.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>分析：</strong></p>
<ul>
<li><strong>Scanner:</strong>  <code>java.util.Scanner</code> 用于从控制台读取用户输入。</li>
<li><strong>System.out.println&#x2F;print:</strong>  <code>java.lang.System</code> 用于向控制台输出信息。</li>
<li><strong>String:</strong>  <code>java.lang.String</code> 用于处理用户输入的运算符。</li>
<li><strong>double:</strong>  Java的基本数据类型，用于存储数字。</li>
</ul>
<p>这个简单的例子展示了如何使用Java API来构建一个简单的命令行应用程序。  通过学习和掌握更多的Java API，可以构建更复杂、功能更强大的应用程序。</p>
<h2 id="Java-GUI页面编程"><a href="#Java-GUI页面编程" class="headerlink" title="Java GUI页面编程"></a>Java GUI页面编程</h2><p>Java GUI页面编程涉及使用Java提供的图形用户界面（GUI）工具包来创建交互式的桌面应用程序。主要涉及AWT、Swing和JavaFX这三个技术栈，其中Swing和JavaFX是更常用的选择。</p>
<h3 id="基础原理：组件、容器和布局管理器"><a href="#基础原理：组件、容器和布局管理器" class="headerlink" title="基础原理：组件、容器和布局管理器"></a><strong>基础原理：组件、容器和布局管理器</strong></h3><p>GUI编程的核心在于组件（Component）、容器（Container）和布局管理器（Layout Manager）。</p>
<ul>
<li><p><strong>组件（Component）：</strong> GUI的基本构建块，例如按钮（Button）、标签（Label）、文本框（TextField）等。它们是用户可以直接交互的元素。</p>
</li>
<li><p><strong>容器（Container）：</strong> 用于容纳和组织组件的特殊组件。例如，窗口（JFrame）、面板（JPanel）等。容器可以嵌套，形成复杂的界面结构。</p>
</li>
<li><p><strong>布局管理器（Layout Manager）：</strong> 负责控制容器中组件的排列方式。不同的布局管理器提供不同的排列策略，例如流式布局（FlowLayout）、边界布局（BorderLayout）、网格布局（GridLayout）等。</p>
</li>
</ul>
<p><strong>示例代码（Swing）：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionEvent;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionListener;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SimpleGUI</span> <span class="keyword">extends</span> <span class="title class_">JFrame</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">SimpleGUI</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 设置窗口标题</span></span><br><span class="line">        setTitle(<span class="string">&quot;Simple GUI Example&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 设置窗口大小</span></span><br><span class="line">        setSize(<span class="number">300</span>, <span class="number">200</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 设置窗口关闭时的默认操作</span></span><br><span class="line">        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 创建一个面板</span></span><br><span class="line">        <span class="type">JPanel</span> <span class="variable">panel</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JPanel</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 创建一个标签</span></span><br><span class="line">        <span class="type">JLabel</span> <span class="variable">label</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JLabel</span>(<span class="string">&quot;Hello, World!&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 创建一个按钮</span></span><br><span class="line">        <span class="type">JButton</span> <span class="variable">button</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JButton</span>(<span class="string">&quot;Click Me!&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 添加事件监听器到按钮</span></span><br><span class="line">        button.addActionListener(<span class="keyword">new</span> <span class="title class_">ActionListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">                label.setText(<span class="string">&quot;Button Clicked!&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 将组件添加到面板</span></span><br><span class="line">        panel.add(label);</span><br><span class="line">        panel.add(button);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 将面板添加到窗口的内容面板</span></span><br><span class="line">        add(panel);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 设置窗口可见</span></span><br><span class="line">        setVisible(<span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">SimpleGUI</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这段代码创建了一个简单的窗口，其中包含一个标签和一个按钮。点击按钮会改变标签的文本。</p>
<h3 id="进阶知识：事件处理、线程和数据绑定"><a href="#进阶知识：事件处理、线程和数据绑定" class="headerlink" title="进阶知识：事件处理、线程和数据绑定"></a><strong>进阶知识：事件处理、线程和数据绑定</strong></h3><ul>
<li><p><strong>事件处理：</strong> GUI程序的核心是响应用户的交互。事件处理机制允许程序监听用户的操作（例如点击按钮、输入文本等），并执行相应的代码。Java使用事件监听器（EventListener）接口来实现事件处理。</p>
</li>
<li><p><strong>线程：</strong> GUI程序通常需要执行耗时的操作（例如网络请求、文件读写等）。为了避免阻塞GUI线程，影响用户体验，应该将这些操作放在单独的线程中执行。SwingUtilities.invokeLater() 和 JavaFX的Platform.runLater() 用于在GUI线程中更新UI。</p>
</li>
<li><p><strong>数据绑定：</strong> 数据绑定是一种将GUI组件与数据模型关联起来的技术。当数据模型发生变化时，GUI组件会自动更新；反之，当用户在GUI组件中修改数据时，数据模型也会自动更新。JavaFX提供了内置的数据绑定机制。</p>
</li>
</ul>
<p><strong>示例代码（JavaFX）：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javafx.application.Application;</span><br><span class="line"><span class="keyword">import</span> javafx.application.Platform;</span><br><span class="line"><span class="keyword">import</span> javafx.scene.Scene;</span><br><span class="line"><span class="keyword">import</span> javafx.scene.control.Button;</span><br><span class="line"><span class="keyword">import</span> javafx.scene.control.Label;</span><br><span class="line"><span class="keyword">import</span> javafx.scene.layout.StackPane;</span><br><span class="line"><span class="keyword">import</span> javafx.stage.Stage;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JavaFXExample</span> <span class="keyword">extends</span> <span class="title class_">Application</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">(Stage primaryStage)</span> &#123;</span><br><span class="line">        <span class="type">Label</span> <span class="variable">label</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Label</span>(<span class="string">&quot;Hello, JavaFX!&quot;</span>);</span><br><span class="line">        <span class="type">Button</span> <span class="variable">button</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Button</span>(<span class="string">&quot;Click Me!&quot;</span>);</span><br><span class="line"></span><br><span class="line">        button.setOnAction(event -&gt; &#123;</span><br><span class="line">            Platform.runLater(() -&gt; &#123;</span><br><span class="line">                label.setText(<span class="string">&quot;Button Clicked!&quot;</span>);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="type">StackPane</span> <span class="variable">root</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StackPane</span>();</span><br><span class="line">        root.getChildren().addAll(label, button);</span><br><span class="line"></span><br><span class="line">        <span class="type">Scene</span> <span class="variable">scene</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scene</span>(root, <span class="number">300</span>, <span class="number">250</span>);</span><br><span class="line"></span><br><span class="line">        primaryStage.setTitle(<span class="string">&quot;JavaFX Example&quot;</span>);</span><br><span class="line">        primaryStage.setScene(scene);</span><br><span class="line">        primaryStage.show();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        launch(args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这个JavaFX示例与Swing示例类似，但使用了JavaFX的API。<code>Platform.runLater()</code>确保UI更新在JavaFX应用程序线程上执行。</p>
<h3 id="实际案例：开发一个简单的计算器"><a href="#实际案例：开发一个简单的计算器" class="headerlink" title="实际案例：开发一个简单的计算器"></a><strong>实际案例：开发一个简单的计算器</strong></h3><p>下面是一个使用Swing开发的简单计算器的示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionEvent;</span><br><span class="line"><span class="keyword">import</span> java.awt.event.ActionListener;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Calculator</span> <span class="keyword">extends</span> <span class="title class_">JFrame</span> <span class="keyword">implements</span> <span class="title class_">ActionListener</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 显示计算结果的文本框</span></span><br><span class="line">    <span class="keyword">private</span> JTextField display;</span><br><span class="line">    <span class="comment">// 存放按钮的面板</span></span><br><span class="line">    <span class="keyword">private</span> JPanel buttonPanel;</span><br><span class="line">    <span class="comment">// 当前输入的数字字符串</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">String</span> <span class="variable">currentInput</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="comment">// 计算结果</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> <span class="variable">result</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// 上一次执行的运算符，默认为 &quot;=&quot;</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">String</span> <span class="variable">lastOperation</span> <span class="operator">=</span> <span class="string">&quot;=&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 构造函数</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Calculator</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 设置窗口标题</span></span><br><span class="line">        setTitle(<span class="string">&quot;Simple Calculator&quot;</span>);</span><br><span class="line">        <span class="comment">// 设置窗口大小</span></span><br><span class="line">        setSize(<span class="number">300</span>, <span class="number">400</span>);</span><br><span class="line">        <span class="comment">// 设置关闭窗口时的默认操作（退出程序）</span></span><br><span class="line">        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">        <span class="comment">// 设置布局管理器为 BorderLayout</span></span><br><span class="line">        setLayout(<span class="keyword">new</span> <span class="title class_">BorderLayout</span>());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 初始化显示文本框</span></span><br><span class="line">        display = <span class="keyword">new</span> <span class="title class_">JTextField</span>();</span><br><span class="line">        <span class="comment">// 设置文本框内容右对齐</span></span><br><span class="line">        display.setHorizontalAlignment(JTextField.RIGHT);</span><br><span class="line">        <span class="comment">// 设置文本框不可编辑</span></span><br><span class="line">        display.setEditable(<span class="literal">false</span>);</span><br><span class="line">        <span class="comment">// 将文本框添加到窗口的北部</span></span><br><span class="line">        add(display, BorderLayout.NORTH);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 初始化按钮面板</span></span><br><span class="line">        buttonPanel = <span class="keyword">new</span> <span class="title class_">JPanel</span>();</span><br><span class="line">        <span class="comment">// 设置按钮面板的布局管理器为 GridLayout (4行4列)</span></span><br><span class="line">        buttonPanel.setLayout(<span class="keyword">new</span> <span class="title class_">GridLayout</span>(<span class="number">4</span>, <span class="number">4</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 定义按钮上的文本标签</span></span><br><span class="line">        String[] buttonLabels = &#123;</span><br><span class="line">                <span class="string">&quot;7&quot;</span>, <span class="string">&quot;8&quot;</span>, <span class="string">&quot;9&quot;</span>, <span class="string">&quot;/&quot;</span>,</span><br><span class="line">                <span class="string">&quot;4&quot;</span>, <span class="string">&quot;5&quot;</span>, <span class="string">&quot;6&quot;</span>, <span class="string">&quot;*&quot;</span>,</span><br><span class="line">                <span class="string">&quot;1&quot;</span>, <span class="string">&quot;2&quot;</span>, <span class="string">&quot;3&quot;</span>, <span class="string">&quot;-&quot;</span>,</span><br><span class="line">                <span class="string">&quot;0&quot;</span>, <span class="string">&quot;.&quot;</span>, <span class="string">&quot;=&quot;</span>, <span class="string">&quot;+&quot;</span></span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 循环创建按钮并添加到面板</span></span><br><span class="line">        <span class="keyword">for</span> (String label : buttonLabels) &#123;</span><br><span class="line">            <span class="comment">// 创建按钮</span></span><br><span class="line">            <span class="type">JButton</span> <span class="variable">button</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JButton</span>(label);</span><br><span class="line">            <span class="comment">// 为按钮添加 ActionListener (当前类)</span></span><br><span class="line">            button.addActionListener(<span class="built_in">this</span>);</span><br><span class="line">            <span class="comment">// 将按钮添加到面板</span></span><br><span class="line">            buttonPanel.add(button);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 将按钮面板添加到窗口的中心</span></span><br><span class="line">        add(buttonPanel, BorderLayout.CENTER);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 设置窗口可见</span></span><br><span class="line">        setVisible(<span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ActionListener 接口的实现方法，用于处理按钮点击事件</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">        <span class="comment">// 获取触发事件的按钮上的文本</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">command</span> <span class="operator">=</span> e.getActionCommand();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 如果点击的是数字或小数点</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="string">&quot;0123456789.&quot;</span>.contains(command)) &#123;</span><br><span class="line">            <span class="comment">// 将点击的数字或小数点添加到当前输入字符串</span></span><br><span class="line">            currentInput += command;</span><br><span class="line">            <span class="comment">// 更新显示文本框的内容</span></span><br><span class="line">            display.setText(currentInput);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 如果点击的是运算符</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">&quot;+-*/=&quot;</span>.contains(command)) &#123;</span><br><span class="line">            <span class="comment">// 进行计算</span></span><br><span class="line">            calculate(Double.parseDouble(currentInput));</span><br><span class="line">            <span class="comment">// 更新上一次执行的运算符</span></span><br><span class="line">            lastOperation = command;</span><br><span class="line">            <span class="comment">// 清空当前输入字符串</span></span><br><span class="line">            currentInput = <span class="string">&quot;&quot;</span>;</span><br><span class="line">            <span class="comment">// 更新显示文本框的内容为计算结果</span></span><br><span class="line">            display.setText(String.valueOf(result));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 计算方法</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">calculate</span><span class="params">(<span class="type">double</span> number)</span> &#123;</span><br><span class="line">        <span class="comment">// 根据上一次执行的运算符进行计算</span></span><br><span class="line">        <span class="keyword">switch</span> (lastOperation) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;+&quot;</span>:</span><br><span class="line">                result += number;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;-&quot;</span>:</span><br><span class="line">                result -= number;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;*&quot;</span>:</span><br><span class="line">                result *= number;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;/&quot;</span>:</span><br><span class="line">                <span class="comment">// 除法需要判断除数是否为0</span></span><br><span class="line">                <span class="keyword">if</span> (number != <span class="number">0</span>) &#123;</span><br><span class="line">                    result /= number;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="comment">// 如果除数为0，则显示错误信息</span></span><br><span class="line">                    display.setText(<span class="string">&quot;Error&quot;</span>);</span><br><span class="line">                    <span class="comment">// 重置计算结果</span></span><br><span class="line">                    result = <span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;=&quot;</span>:</span><br><span class="line">                <span class="comment">// 如果上一次执行的是 &quot;=&quot;, 则将当前数字赋值给计算结果</span></span><br><span class="line">                result = number;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 主函数</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 创建计算器对象</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Calculator</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这个计算器示例展示了如何使用Swing组件、布局管理器和事件处理来创建一个简单的交互式应用程序。它接收用户的输入，执行基本的算术运算，并将结果显示在文本框中。</p>
<h3 id="事件的三种常见写法"><a href="#事件的三种常见写法" class="headerlink" title="事件的三种常见写法"></a>事件的三种常见写法</h3><p>事件，本质上是一种通知机制，用于在程序中传递状态变化或用户行为。常见的三种写法，分别对应着不同的编程范式和应用场景。</p>
<h4 id="1-回调函数-Callback-Functions"><a href="#1-回调函数-Callback-Functions" class="headerlink" title="1. 回调函数 (Callback Functions)"></a><strong>1. 回调函数 (Callback Functions)</strong></h4><ul>
<li><p><strong>基础原理:</strong>  回调函数是最基础的事件处理方式。它将一个函数（回调函数）作为参数传递给另一个函数。当特定事件发生时，被调用的函数会执行这个回调函数。</p>
</li>
<li><p><strong>进阶知识:</strong>  回调函数容易形成“回调地狱”（Callback Hell），即嵌套过深的回调函数，导致代码难以阅读和维护。  Promise 和 async&#x2F;await 解决了这个问题，但回调函数仍然是理解事件机制的基础。</p>
</li>
<li><p><strong>实际案例 (JavaScript):</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">downloadFile</span>(<span class="params">url, callback</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`开始下载: <span class="subst">$&#123;url&#125;</span>`</span>);</span><br><span class="line">  <span class="comment">// 模拟下载过程</span></span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> fileData = <span class="string">`文件内容来自: <span class="subst">$&#123;url&#125;</span>`</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`下载完成: <span class="subst">$&#123;url&#125;</span>`</span>);</span><br><span class="line">    <span class="title function_">callback</span>(fileData); <span class="comment">// 下载完成后调用回调函数</span></span><br><span class="line">  &#125;, <span class="number">2000</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">processFile</span>(<span class="params">data</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`开始处理文件: <span class="subst">$&#123;data&#125;</span>`</span>);</span><br><span class="line">  <span class="comment">// 模拟处理文件</span></span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`文件处理完成: <span class="subst">$&#123;data&#125;</span>`</span>);</span><br><span class="line">  &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">downloadFile</span>(<span class="string">&quot;https://example.com/data.txt&quot;</span>, processFile);</span><br></pre></td></tr></table></figure>

<p>在这个例子中，<code>downloadFile</code> 函数接受一个 URL 和一个回调函数 <code>processFile</code>。  <code>downloadFile</code> 模拟下载文件，下载完成后，它会调用 <code>processFile</code> 函数，并将下载的数据作为参数传递给它。</p>
</li>
</ul>
<p><strong>2. 发布&#x2F;订阅模式 (Publish&#x2F;Subscribe Pattern)</strong></p>
<ul>
<li><p><strong>基础原理:</strong>  发布&#x2F;订阅模式是一种消息传递模式，其中发布者（Publisher）发布消息，订阅者（Subscriber）订阅感兴趣的消息。  发布者不需要知道订阅者是谁，订阅者也不知道发布者是谁。  消息通过一个中央消息代理（Message Broker）进行传递。</p>
</li>
<li><p><strong>进阶知识:</strong>  发布&#x2F;订阅模式实现了松耦合，允许组件独立地发布和订阅事件。  它常用于构建事件驱动的架构，例如消息队列、GUI 事件处理等。  常见的实现方式包括使用事件总线（Event Bus）或消息队列（Message Queue）。</p>
</li>
<li><p><strong>实际案例 (JavaScript - 简易事件总线):</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">EventBus</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">events</span> = &#123;&#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">subscribe</span>(<span class="params">event, callback</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">events</span>[event]) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">events</span>[event] = [];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">events</span>[event].<span class="title function_">push</span>(callback);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">publish</span>(<span class="params">event, data</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">events</span>[event]) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">events</span>[event].<span class="title function_">forEach</span>(<span class="function"><span class="params">callback</span> =&gt;</span> <span class="title function_">callback</span>(data));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> eventBus = <span class="keyword">new</span> <span class="title class_">EventBus</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 订阅 &quot;user.created&quot; 事件</span></span><br><span class="line">eventBus.<span class="title function_">subscribe</span>(<span class="string">&quot;user.created&quot;</span>, <span class="function">(<span class="params">user</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`新用户创建: <span class="subst">$&#123;user.name&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">eventBus.<span class="title function_">subscribe</span>(<span class="string">&quot;user.created&quot;</span>, <span class="function">(<span class="params">user</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`发送欢迎邮件给: <span class="subst">$&#123;user.email&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 发布 &quot;user.created&quot; 事件</span></span><br><span class="line">eventBus.<span class="title function_">publish</span>(<span class="string">&quot;user.created&quot;</span>, &#123; <span class="attr">name</span>: <span class="string">&quot;Alice&quot;</span>, <span class="attr">email</span>: <span class="string">&quot;alice@example.com&quot;</span> &#125;);</span><br><span class="line">eventBus.<span class="title function_">publish</span>(<span class="string">&quot;user.created&quot;</span>, &#123; <span class="attr">name</span>: <span class="string">&quot;Bob&quot;</span>, <span class="attr">email</span>: <span class="string">&quot;bob@example.com&quot;</span> &#125;);</span><br></pre></td></tr></table></figure>

<p>在这个例子中，<code>EventBus</code> 类充当消息代理。  <code>subscribe</code> 方法用于订阅事件，<code>publish</code> 方法用于发布事件。  当 “user.created” 事件被发布时，所有订阅该事件的回调函数都会被执行。</p>
</li>
</ul>
<p><strong>3. 观察者模式 (Observer Pattern)</strong></p>
<ul>
<li><p><strong>基础原理:</strong>  观察者模式定义了一种一对多的依赖关系，让多个观察者对象同时监听某一个主题对象。  当主题对象的状态发生改变时，所有依赖它的观察者都会收到通知并自动更新。</p>
</li>
<li><p><strong>进阶知识:</strong>  观察者模式与发布&#x2F;订阅模式类似，但观察者模式通常是针对特定对象的，观察者直接与主题对象关联。  发布&#x2F;订阅模式则更加通用，发布者和订阅者之间通过消息代理进行解耦。  观察者模式常用于 GUI 框架中的事件处理，例如按钮点击事件。</p>
</li>
<li><p><strong>实际案例 (JavaScript):</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Subject</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">observers</span> = [];</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">state</span> = <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">subscribe</span>(<span class="params">observer</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">observers</span>.<span class="title function_">push</span>(observer);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">unsubscribe</span>(<span class="params">observer</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">observers</span> = <span class="variable language_">this</span>.<span class="property">observers</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">obs</span> =&gt;</span> obs !== observer);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">setState</span>(<span class="params">newState</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">state</span> = newState;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">notifyObservers</span>();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">notifyObservers</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">observers</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">observer</span> =&gt;</span> observer.<span class="title function_">update</span>(<span class="variable language_">this</span>.<span class="property">state</span>));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Observer</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">update</span>(<span class="params">state</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span> 收到通知，状态更新为: <span class="subst">$&#123;state&#125;</span>`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> subject = <span class="keyword">new</span> <span class="title class_">Subject</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> observer1 = <span class="keyword">new</span> <span class="title class_">Observer</span>(<span class="string">&quot;Observer 1&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> observer2 = <span class="keyword">new</span> <span class="title class_">Observer</span>(<span class="string">&quot;Observer 2&quot;</span>);</span><br><span class="line"></span><br><span class="line">subject.<span class="title function_">subscribe</span>(observer1);</span><br><span class="line">subject.<span class="title function_">subscribe</span>(observer2);</span><br><span class="line"></span><br><span class="line">subject.<span class="title function_">setState</span>(<span class="number">1</span>);</span><br><span class="line">subject.<span class="title function_">setState</span>(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">subject.<span class="title function_">unsubscribe</span>(observer1);</span><br><span class="line"></span><br><span class="line">subject.<span class="title function_">setState</span>(<span class="number">3</span>);</span><br></pre></td></tr></table></figure>

<p>在这个例子中，<code>Subject</code> 类是主题对象，<code>Observer</code> 类是观察者对象。  <code>Subject</code> 维护一个观察者列表，并在状态改变时通知所有观察者。  <code>Observer</code> 的 <code>update</code> 方法用于响应状态变化。</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">eleteItem.addActionListener(<span class="keyword">new</span> <span class="title class_">ActionListener</span>() &#123;  </span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;  </span><br><span class="line">        <span class="type">int</span> <span class="variable">selectedRow</span> <span class="operator">=</span> employeeTable.getSelectedRow();  </span><br><span class="line">        <span class="keyword">if</span> (selectedRow != -<span class="number">1</span>) &#123;  </span><br><span class="line">            <span class="comment">// 实现删除逻辑  </span></span><br><span class="line">            tableModel.removeRow(selectedRow);  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
 
      <!-- reward -->
      
      <div id="reword-out">
        <div id="reward-btn">
          Donate
        </div>
      </div>
      
    </div>
    

    <!-- copyright -->
    
    <div class="declare">
      <ul class="post-copyright">
        <li>
          <i class="ri-copyright-line"></i>
          <strong>Copyright： </strong>
          
          Copyright is owned by the author. For commercial reprints, please contact the author for authorization. For non-commercial reprints, please indicate the source.
          
        </li>
      </ul>
    </div>
    
    <footer class="article-footer">
       
<div class="share-btn">
      <span class="share-sns share-outer">
        <i class="ri-share-forward-line"></i>
        分享
      </span>
      <div class="share-wrap">
        <i class="arrow"></i>
        <div class="share-icons">
          
          <a class="weibo share-sns" href="javascript:;" data-type="weibo">
            <i class="ri-weibo-fill"></i>
          </a>
          <a class="weixin share-sns wxFab" href="javascript:;" data-type="weixin">
            <i class="ri-wechat-fill"></i>
          </a>
          <a class="qq share-sns" href="javascript:;" data-type="qq">
            <i class="ri-qq-fill"></i>
          </a>
          <a class="douban share-sns" href="javascript:;" data-type="douban">
            <i class="ri-douban-line"></i>
          </a>
          <!-- <a class="qzone share-sns" href="javascript:;" data-type="qzone">
            <i class="icon icon-qzone"></i>
          </a> -->
          
          <a class="facebook share-sns" href="javascript:;" data-type="facebook">
            <i class="ri-facebook-circle-fill"></i>
          </a>
          <a class="twitter share-sns" href="javascript:;" data-type="twitter">
            <i class="ri-twitter-fill"></i>
          </a>
          <a class="google share-sns" href="javascript:;" data-type="google">
            <i class="ri-google-fill"></i>
          </a>
        </div>
      </div>
</div>

<div class="wx-share-modal">
    <a class="modal-close" href="javascript:;"><i class="ri-close-circle-line"></i></a>
    <p>扫一扫，分享到微信</p>
    <div class="wx-qrcode">
      <img src="//api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://nagoriyuki0408.github.io/2025/05/12/Java/%E7%AC%AC%E4%BA%94%E7%AB%A0%EF%BC%9A%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B/" alt="微信分享二维码">
    </div>
</div>

<div id="share-mask"></div>  
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/" rel="tag">Java</a></li></ul>

    </footer>
  </div>

   
  <nav class="article-nav">
    
      <a href="/2025/05/12/Java/%E4%BA%BA%E4%BA%8B%E7%AE%A1%E7%90%86%E9%A1%B9%E7%9B%AE/" class="article-nav-link">
        <strong class="article-nav-caption">上一篇</strong>
        <div class="article-nav-title">
          
            第六章：人事管理项目
          
        </div>
      </a>
    
    
      <a href="/2025/05/12/Java/%E7%AC%AC%E5%9B%9B%E7%AB%A0%EF%BC%9A%E6%95%B0%E7%BB%84/" class="article-nav-link">
        <strong class="article-nav-caption">下一篇</strong>
        <div class="article-nav-title">第四章：数组</div>
      </a>
    
  </nav>

   
<!-- valine评论 -->
<div id="vcomments-box">
  <div id="vcomments"></div>
</div>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="https://cdn.staticfile.org/valine/1.4.16/Valine.min.js"></script>
<script>
  new Valine({
    el: "#vcomments",
    appid: "NE1hi2bwLBi5TmvHcJqkvMj4-MdYXbMMI",
    appkey: "tlaS1mHTwUo374IsMy8CwE2j",
    path: window.location.pathname,
    avatar: "monsterid",
    placeholder: "给我的文章加点评论吧~",
    recordIP: true,
  });
  const infoEle = document.querySelector("#vcomments .info");
  if (infoEle && infoEle.childNodes && infoEle.childNodes.length > 0) {
    infoEle.childNodes.forEach(function (item) {
      item.parentNode.removeChild(item);
    });
  }
</script>
<style>
  #vcomments-box {
    padding: 5px 30px;
  }

  @media screen and (max-width: 800px) {
    #vcomments-box {
      padding: 5px 0px;
    }
  }

  #vcomments-box #vcomments {
    background-color: #fff;
  }

  .v .vlist .vcard .vh {
    padding-right: 20px;
  }

  .v .vlist .vcard {
    padding-left: 10px;
  }
</style>

 
   
  
    
</article>

</section>
      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2021-2025
        <i class="ri-heart-fill heart_icon"></i> SHIOKOU
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>Visitors:<span id="busuanzi_value_site_uv"></span></span>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>Views:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>    
    </main>
    <div class="float_btns">
      <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

    </div>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="柳瀬しおこうの夢"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" target="_blank" rel="noopener" href="https://x.com/tsumugi0408">推特</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" target="_blank" rel="noopener" href="https://bangumi.tv/">番组</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="Search">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>帮我买张OST吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-3.6.0.min.js"></script>
 
<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->
 
<script src="/js/tocbot.min.js"></script>

<script>
  tocbot.init({
    tocSelector: ".tocbot",
    contentSelector: ".article-entry",
    headingSelector: "h1, h2, h3, h4, h5, h6",
    hasInnerContainers: true,
    scrollSmooth: true,
    scrollContainer: "main",
    positionFixedSelector: ".tocbot",
    positionFixedClass: "is-position-fixed",
    fixedSidebarOffset: "auto",
  });
</script>

<script src="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.css"
/>
<script src="https://cdn.staticfile.org/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->
 <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/default-skin/default-skin.min.css">
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script> 
<!-- MathJax -->
 <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
      tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
  });

  MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for(i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
      }
  });
</script>

<script src="https://cdn.staticfile.org/mathjax/2.7.7/MathJax.js"></script>
<script src="https://cdn.staticfile.org/mathjax/2.7.7/config/TeX-AMS-MML_HTMLorMML-full.js"></script>
<script>
  var ayerConfig = {
    mathjax: true,
  };
</script>

<!-- Katex -->
 
    
        <link rel="stylesheet" href="https://cdn.staticfile.org/KaTeX/0.15.1/katex.min.css">
        <script src="https://cdn.staticfile.org/KaTeX/0.15.1/katex.min.js"></script>
        <script src="https://cdn.staticfile.org/KaTeX/0.15.1/contrib/auto-render.min.js"></script>
        
            <script src="https://cdn.staticfile.org/KaTeX/0.15.1/contrib/copy-tex.min.js"></script>
            <link rel="stylesheet" href="https://cdn.staticfile.org/KaTeX/0.15.1/contrib/copy-tex.min.css">
        
    
 
<!-- busuanzi  -->
 
<script src="/js/busuanzi-2.3.pure.min.js"></script>
 
<!-- ClickLove -->

<!-- ClickBoom1 -->

<!-- ClickBoom2 -->

<!-- CodeCopy -->
 
<link rel="stylesheet" href="/css/clipboard.css">
 <script src="https://cdn.staticfile.org/clipboard.js/2.0.10/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>
 
<!-- CanvasBackground -->

<script>
  if (window.mermaid) {
    mermaid.initialize({ theme: "forest" });
  }
</script>


    
    <div id="music">
    
    
    
    <iframe frameborder="no" border="1" marginwidth="0" marginheight="0" width="200" height="52"
        src="//music.163.com/outchain/player?type=2&id=28699497&auto=0&height=32"></iframe>
</div>

<style>
    #music {
        position: fixed;
        right: 15px;
        bottom: 0;
        z-index: 998;
    }
</style>
    
    

  </div>
</body>

</html>